\documentclass[pstricks]{standalone}

\usepackage{amsmath}
\usepackage{pst-optexp}

\begin{document}
	\begin{pspicture}(0,-0.5)(13.5,7)
		\begin{optexp}
			\psset[optexp]{fiber=none, usefiberstyle}
			\newpsstyle{Fiber}{linecolor=orange}
		  	
			\optsource[compname=Source, labeloffset=1.2, position=start](2,2)(3,2){{\begin{tabular}{@{}c@{}}Local\\oscillator\\laser\end{tabular}}}
			\optbox[compname=PhaseShift1, optboxsize=1 0.8, labeloffset=1](3,2)(4,2){{\begin{tabular}{@{}c@{}}Phase\\shifter\end{tabular}}}
			\optbox[compname=PhaseShift2, optboxsize=1 0.8, innerlabel](7,1)(8,1){$\pi/2$}
			
			\optfiber[compname=Fiber, labelangle=180, labeloffset=1.4](0.5,4)(2,4){{\begin{tabular}{@{}c@{}}Fiber\\channel\end{tabular}}}
			\polcontrol[compname=PolCtrl, labelangle=180, labeloffset=1](3,4)(4,4){{\begin{tabular}{@{}c@{}}Polarization\\controller\end{tabular}}}
			\optisolator[compname=Iso, labelangle=180, labeloffset=1](5,4)(6,4){{\begin{tabular}{@{}c@{}}Optical\\isolator\end{tabular}}}

			\optcoupler[compname=Coupler1, labeloffset=1, labelangle=180](10,5.5)(10,4)(11,5.5)(11,4){{\begin{tabular}{@{}c@{}}Coupler\\(50:50)\end{tabular}}}
			\optdetector[compname=Det1a, dettype=diode, extnode=b, labeloffset=1, labelangle=180](11,5.5)(12,5.5){{\begin{tabular}{@{}c@{}}Balanced\\detector\end{tabular}}}
			\optdetector[compname=Det1b, dettype=diode, extnode=t](11,4)(12,4)

			\optcoupler[compname=Coupler2, labeloffset=1](10,2.5)(10,1)(11,2.5)(11,1){{\begin{tabular}{@{}c@{}}Coupler\\(50:50)\end{tabular}}}
			\optdetector[compname=Det2a, dettype=diode, extnode=b](11,2.5)(12,2.5)
			\optdetector[compname=Det2b, dettype=diode, extnode=t, labeloffset=1](11,1)(12,1){{\begin{tabular}{@{}c@{}}Balanced\\detector\end{tabular}}}
			
			\wdmsplitter[compname=Splitter1, labeloffset=1, labelangle=180, coupleralign=t](7,4.75)(8,4.75)(8,2.5){{\begin{tabular}{@{}c@{}}Splitter\\(50:50)\end{tabular}}}
			\wdmsplitter[compname=Splitter2, labeloffset=1](5,2)(6,3)(6,1){{\begin{tabular}{@{}c@{}}Splitter\\(50:50)\end{tabular}}}
			
			\drawfiber{Source}{PhaseShift1}%{Coupler}{Det1}
			\drawfiber(0,4){Fiber}{PolCtrl}{Iso}{Splitter1}{Coupler1}
			
			\drawfiber{Splitter2}{Coupler1}{Det1a}
			\drawfiber{Coupler1}{Det1b}
			\drawfiber{Splitter1}{Coupler2}{Det2a}
			\drawfiber{PhaseShift1}{Splitter2}{PhaseShift2}{Coupler2}{Det2b}
			
			\drawwire(\oenodeExt{Det1a})(\oenodeExt{Det1b})
			\drawwire(\oenodeExt{Det2a})(\oenodeExt{Det2b})
		\end{optexp}
	\end{pspicture}
\end{document}