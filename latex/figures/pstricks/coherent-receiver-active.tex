\documentclass[pstricks]{standalone}

\input{preamble}

\begin{document}
	\begin{pspicture}(0,0.5)(12,5.5)
		\begin{optexp}
			\psset[optexp]{fiber=none, usefiberstyle}
			\newpsstyle{Fiber}{linecolor=orange}
		  	
			\optsource[compname=Source, position=end](1,2)(2,2){RX laser}
			\optbox[compname=PhaseShift, optboxsize=1 0.8](5,2)(6,2){PS}
			\optbox[optboxsize=1 0.8, innerlabel](5,2)(6,2){$\varphi$}
			\optfiber[compname=Fiber, labelangle=0, labeloffset=0.4](0.5,4)(2,4){Fiber}
			\polcontrol[compname=PolCtrl, labelangle=180](3,4)(4,4){PC}
			\optisolator[compname=Iso, labelangle=180](5,4)(6,4){Isolator}
			\optcoupler[compname=Coupler](7,4)(7,2)(9,4)(9,2){{\begin{tabular}{@{}c@{}}Coupler\\(50:50)\end{tabular}}}
			
			\optdetector[compname=Det1, dettype=diode, extnode=b, labelangle=180](9,4)(10,4)
			\optdetector[compname=Det2, dettype=diode, extnode=t](9,2)(10,2){BD}
			
			\drawfiber{Source}{PhaseShift}{Coupler}{Det1}
			\drawfiber(0,4){Fiber}{PolCtrl}{Iso}{Coupler}{Det2}
			
			\drawwire(\oenodeExt{Det1})(\oenodeExt{Det2})
			\drawwire[arrows=->](10.4,3)(11,3)
			\rput(11.4,3){$i(t)$}
		\end{optexp}
	\end{pspicture}
\end{document}