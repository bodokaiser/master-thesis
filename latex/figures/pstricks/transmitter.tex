\documentclass[pstricks]{standalone}

\usepackage{pst-optexp}
\usepackage{siunitx}

\begin{document}
	\begin{pspicture}(0,-0.5)(14,5.5)
		\begin{optexp}
			\psset[optexp]{fiber=none, usefiberstyle}
			\newpsstyle{Fiber}{linecolor=orange}
			
		  	\pnodes(2,2.5){LaserIn}(4,2.5){LaserOut}
		  	\pnodes(3,0.25){OscXIn}(6,0.25){OscXOut}
		  	\pnodes(3,4.75){OscPIn}(6,4.75){OscPOut}
		  	\pnodes(5,1){PsIn}(6,1){PsOut}
		  	\pnodes(6,1){MzmXIn}(8,1){MzmXOut}
		  	\pnodes(5,4){MzmPIn}(7,4){MzmPOut}
		  	\pnodes(10,1){MzmAIn}(11,1){MzmAOut}
		  	\pnodes(9,4.5){PdIn}(10,4.5){PdOut}
		  	\pnodes(12,3){CtrlIn}(13,3){CtrlOut}
		  	\pnodes(12,1){IsoIn}(13,1){IsoOut}(14,1){FiberOut}
		  	
			\optbox[compname=Laser, position=start, optboxsize=2 1.2, labeloffset=0](LaserIn)(LaserOut){{\begin{tabular}{@{}c@{}}Transmit\\laser\end{tabular}}}
			\elecsynthesizer[compname=OscX, wire=none, labelangle=-90](OscXIn)(OscXOut){$x(t)$}
			\elecsynthesizer[compname=OscP, wire=none, labelangle=-90](OscPIn)(OscPOut){$p(t)$}
			
			\optbox[compname=Ps, optboxsize=1 0.8, labeloffset=0](PsIn)(PsOut){$\pi/2$}
			\optmzm[compname=MzmX, extnode=b, labelangle=180](MzmXIn)(MzmXOut){MZM 1}
			\optmzm[compname=MzmP, extnode=t](MzmPIn)(MzmPOut){MZM 2}
			\wdmsplitter[compname=Splitter, labeloffset=0.5](LaserIn)(MzmXIn)(MzmPIn){50:50}
			
			\optcoupler[compname=Coupler, labeloffset=0.5](MzmXOut)(MzmPOut)(PdIn)(MzmAIn){99:1}
			\optmzm[compname=MzmA, extnode=t](MzmAIn)(MzmAOut){MZM 3}
			\optisolator[compname=Iso](IsoIn)(IsoOut){\begin{tabular}{@{}c@{}}Optical\\isolator\end{tabular}}
			\optdetector[compname=Pd, extnode=r, dettype=diode, labelangle=180](PdIn)(PdOut){PD}
			\optbox[compname=Ctrl, extnode=b, optboxsize=1.8 1.2, labeloffset=0](CtrlIn)(CtrlOut){\begin{tabular}{@{}c@{}}Power\\controller\end{tabular}}
	
			\drawfiber{Laser}{Splitter}{Ps}{MzmX}{Coupler}{MzmA}{Iso}
			\drawfiber[ArrowInside=->]{Iso}(FiberOut)
			\drawfiber{Splitter}{MzmP}{Coupler}{Pd}

			\drawwire(\oenodeExt{Pd}){Ctrl}
			\drawwire[wireangleA=65, wireangleB=65](\oenodeExt{MzmA})(\oenodeExt{Ctrl})

			\drawwire[wireangleA=-90, wireangleB=-90]{OscP}(\oenodeExt{MzmP})
			\drawwire[wireangleA=90, wireangleB=90]{OscX}(\oenodeExt{MzmX})
		\end{optexp}
	\end{pspicture}
\end{document}