\section{Logical quantum channel}

\begin{figure}[htb]
	\centering
	\includestandalone{figures/tikz/logical-quantum-channel}
	\caption{Logical quantum channel comprising a quantum encoder, a physical quantum channel, and a quantum decoder. The quantum encoder encodes a tensor product of coherent states $\ket{\alpha_1,\dots,\alpha_n}$ onto a time-continuous coherent state $\ket{\alpha(t)}$. The physical quantum channel maps the coherent state $\ket{\alpha(t)}$ to $\ket{\beta(t)}$. The quantum decoder decodes a tensor product of coherent states $\ket{\beta_1,\dots,\beta_n}$ from the time-continuous coherent state $\ket{\beta(t)}$.}
\end{figure}

\subsection{Encoder}

\begin{equation}
	\bigotimes_{n=1}^N
	\ket{\alpha_n}_n
	\to
	\ket{\alpha(t)}
\end{equation}

Let us assume there exists a family of functions $\left\{g_{p_0,\sigma}\right\}_{p_0,\sigma\in\mathbb{R}_+}$, the pulse-shape, which is normalized to one
\begin{equation}
	\int_{\mathbb{R}}
	\dd{t}
	g_{p_0,\sigma}(t)
	=
	1	
\end{equation}
and approaches the Delta distribution in the limit of a vanishing $\sigma$
\begin{equation}
	g_{p_0,\sigma}(t)
	\xrightarrow{\sigma\to0}
	\delta(t)
\end{equation}
in the time domain and
\begin{equation}
	g_{p_0,\sigma}(p)
	\xrightarrow{\sigma^{-1}\to0}
	(2\pi)
	\delta(p-p_0)
\end{equation}
in the frequency domain.

We can write any coherent state with $c\in\mathbb{C}$ as a convolution
\begin{equation}
	\begin{split}
		\ket{cg_{p_0,\sigma}(t)}
		&=
		\ket{(g_{p_0,\sigma}*c\delta)(t)}
		\\
		&=
		\hat{D}\left[(g_{p_0,\sigma}*c\delta)(t)\right]
		\ket{0}
		\\
		&\propto
		\exp\left\{
			\int_{\mathbb{R}}
			\frac{\dd{p}}{2\pi}
			\mathcal{F}\left[(g_{p_0,\sigma}*c\delta)\right](p)
			e^{+ipt}
			\hat{a}^\dagger(p)
		\right\}
		\ket{0}
		\\
		&=
		\exp\left\{
			\int_{\mathbb{R}}
			\frac{\dd{p}}{2\pi}
			c
			\mathcal{F}\left[g_{p_0,\sigma}\right](p)
			\mathcal{F}\left[\delta\right](p)
			e^{+ipt}
			\hat{a}^\dagger(p)
		\right\}
		\ket{0}
		\\
		&=
		\exp\left\{
			\int_{\mathbb{R}}
			\frac{\dd{p}}{2\pi}
			cg_{p_0,\sigma}(p)
			e^{+ipt}
			\hat{a}^\dagger(p)
		\right\}
		\ket{0}
	\end{split}
\end{equation}
where we used the convolution theorem, the linearity of the Fourier transform and $\mathcal{F}[\delta]=1$.
By using the limiting property of the pulse-shape, we obtain the single-mode form
\begin{equation}
	\ket{cg_{p_0,\sigma}(t)}
	\propto
	\exp\left\{
		\int_{\mathbb{R}}
		\frac{\dd{p}}{2\pi}
		cg_{p_0,\sigma}(p)
		e^{+ipt}
		\hat{a}^\dagger(p)
	\right\}
	\ket{0}
	\xrightarrow{\sigma^{-1}\to0}
	\exp\left\{
		c
		e^{+ip_0t}
		\hat{a}^\dagger(p_0)
	\right\}
	\ket{0}
\end{equation}
resembling a plane-wave at frequency $p_0$.

For a pulse train, we can write
\begin{equation}
	\ket{\sum_{n=1}c_ng_{p_0,\sigma}(t-nT)}
	=
	\ket{(g*f)(t)}
	\propto
	\exp\left\{
		\int_{\mathbb{R}}
		\frac{\dd{p}}{2\pi}
		g_{p_0,\sigma}(p)
		f(p)e^{+ipt}
		\hat{a}^\dagger(p)
	\right\}
	\ket{0}
\end{equation}
wherein
\begin{equation}
	f(t)
	=
	\sum_{n=1}c_n\delta(t-nT)
\end{equation}
encodes the information.
Again, we take the limit
\begin{equation}
	\exp\left\{
		\int_{\mathbb{R}}
		\frac{\dd{p}}{2\pi}
		g_{p_0,\sigma}(p)
		f(p)e^{+ipt}
		\hat{a}^\dagger(p)
	\right\}
	\ket{0}
	\xrightarrow{\sigma^{-1}\to0}
	\exp\left\{
		f(p_0)
		e^{+ip_0t}
		\hat{a}^\dagger(p_0)
	\right\}
	\ket{0}	
\end{equation}
to obtain the single-mode result.

When we apply a linear filter, e.g., a beam splitter where we project the first output, we find
\begin{equation}
	\hat{P}_1\hat{U}\ket{(g_{p_0,\sigma}*f)(t),0}
	=
	\ket{(g_{p_0,\sigma}*f*h)(t),0}
\end{equation}
wherein
\begin{equation}
	h(t)
	=
	\int_{\mathbb{R}}
	\frac{\dd{p}}{\sqrt{2\pi}}
	\cos(\theta(p)/2)
	e^{+ipt}
	.
\end{equation}
By commutativity of the convolution, we can define summarize the pulse-shape and the filter response.
In that sense, we can ignore the particular pulse-shape.

\subsubsection{Tensor product to time encoding}

We start of with a tensor product of coherent states
\begin{equation}
	\bigotimes_{n=1}^N
	\ket{\alpha_n(t_0)}_n
\end{equation}
and apply to each state the unitary time-evolution, i.e.,
\begin{equation}
	\hat{U}(t_0,t_0+t-nT)
	\ket{\alpha_n(t_0)}_n
	=
	\ket{\alpha_n(t-nT)}_n
	.
\end{equation}
The coherent states are still a tensor product but the states have an increasing time delay
\begin{equation}
	\bigotimes_{n=1}^N
	\ket{\alpha_n(t-nT)}_n
	.
\end{equation}

Next, we want to add up all the coherent states.
The unitary transformation of a symmetric multiport beamsplitter accomplishes this
\begin{equation}
	\hat{U}
	\left(
		\bigotimes_{n=1}^N
		\ket{\alpha_n(t-nT)}_n
	\right)
	=
	\bigotimes_{n=1}^N
	\ket{\sum_{m=1}^NU_{mn}\alpha_n(t-nT)}_n
\end{equation}
where the matrix coefficients are given by~\cite{Zukowski1997}
\begin{equation}
	U_{mn}
	=
	\frac{1}{\sqrt{N}}
	e^{2i\pi/N(m-1)(n-1)}
	.
\end{equation}
Projecting the first output, we find
\begin{equation}
	\hat{P}_1
	\hat{U}
	\left(
		\bigotimes_{n=1}^N
		\ket{\alpha_n(t-nT)}_n
	\right)
	=
	\ket{\frac{1}{\sqrt{N}}\sum_{n=1}^N\alpha_n(t-nT)}
	.
\end{equation}
However, the amplitudes are attenuated by $1/\sqrt{N}$ which means energy is lost.
Fortunately, an efficient unitary transform redistributing the modes exists.
We first consider the case of two in- and outputs, $N=2$, see \Cref{fig:quantum_switch}.
\begin{figure}[htb]
	\centering
	\includestandalone{figures/pstricks/quantum-switch}
	\caption{Optical switch with two in- and two outputs: The first input has a coherent state $\ket{\alpha(t-1T)}$. The second input has a coherent state $\ket{\alpha(t-2T)}$. When the first input arrives at $t-1T$, the switch forwards the first input to the first output and the second input to the second output (orange solid line). When the second input arrives at $t-2T$, the switch forwards the first input to the second output and the second input to the first output (dashed orange line). As a result, the first output state is the sum of the two input states and the second output state is the vacuum state.}\label{fig:quantum_switch}
\end{figure}
Two time-delayed coherent states at two different input modes are redistributed into the first output mode through an optical switch with infinite bandwidth, i.e., instantaneous switching.
For $N=2$, we can describe the switch as a beam splitter transform
\begin{equation}
	\hat{U}
	=
	\begin{pmatrix}
		\cos(\theta/2) & i\sin(\theta/2) \\
		-i\sin(\theta/2) & \cos(\theta/2)
	\end{pmatrix}
\end{equation}
where we have $\theta=0$ at $t-1T$ and $\theta=\pi$ at $t-2T$.