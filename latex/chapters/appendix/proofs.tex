\section{Klein-Gordon field}

\subsection{Relativistic field theory}

\begin{delayedproof}{th:relativistic_energy_momentum}
	According to the action principle, the dynamics of the field are determined by the equations of motion which can be found by the relativistic Euler-Lagrange equations
	\begin{equation*}
		0
		=
		\partial_\mu\pdv{\mathcal{L}}{(\partial_\mu\phi)}
		-
		\pdv{\mathcal{L}}{\phi}
		=
		\left(
			\partial_\mu\partial^\mu
			+
			m^2
		\right)
		\phi(t,\vb{x})
		.
	\end{equation*}
	Assuming the existence of the Klein-Gordon field's Fourier representation\footnote{See Ref.~\cite[p.~341]{Cohen2019} for a definition of a Minkowski Fourier transform.}
	\begin{equation*}
		\phi(t,\vb{x})
		=
		\int_{\mathbb{R}^3}\frac{\dd[3]{p}}{(2\pi)^3}
		\phi(t,\vb{p})
		e^{-i\vb{p}\vdot\vb{x}}
		=
		\int_{\mathbb{R}^4}\frac{\dd[4]{p}}{(2\pi)^4}
		\phi(p_0,\vb{p})
		e^{+ip_\mu x^\mu}
		,
	\end{equation*}
	the equation of motion in momentum space reduces to
	\begin{equation*}
		0
		=
		\left(
			ip_\mu ip^\mu
			+
			m^2
		\right)
		\phi(p_0,\vb{p})
		=
		-
		\left(
			p_0^2
			-
			\omega(\vb{p})^2
		\right)
		\phi(p_0,\vb{p})
	\end{equation*}
	which is satisfied if $p_0=\pm\omega(\vb{p})$.
\end{delayedproof}
\begin{delayedproof}{thm:kg_fourier_expansion}
	There are two approaches to prove \cref{thm:kg_fourier_expansion}.
	In a first approach, we calculate with the proposed Fourier expansion
	\begin{equation*}
		\begin{split}
			\partial_\mu
			\partial^\mu
			\phi(t,\vb{x})
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\left\{
				a^*(\vb{p})
				\partial_\mu
				\partial^\mu
				e^{-ip_\mu x^\mu}
				+
				\text{c.c.}
			\right\}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\left\{
				a^*(\vb{p})
				\left(
					-
					p_\mu
					p^\mu
				\right)
				e^{-ip_\mu x^\mu}
				+
				\text{c.c.}
			\right\}
		\end{split}
	\end{equation*}
	where $p_\mu p^\mu=\omega(\vb{p})^2-\vb{p}=m^2$ and therefore the equation of motion
	\begin{equation*}
			\partial_\mu
			\partial^\mu
			\phi(t,\vb{x})
			=
			-
			m^2
			\phi(t,\vb{x})
	\end{equation*}
	is satisfied.
	While the first approach successfully shows why the theorem is true, it is not obvious how to arrive at the Fourier expansion.
	Therefor, a second approach starts with the Fourier transform of the Klein-Gordon field
	\begin{equation*}
		\phi(t,\vb{x})
		=
		\int_V\frac{\dd[4]{p}}{(2\pi)^4}
		\phi(p_0,\vb{p})
		e^{+ip_\mu x^\mu}
	\end{equation*}
	where the integration domain is constrained to the momentum lightcone $V$ and therefore $\omega(\vb{p})^2=p_0^2$ is automatically satisfied.
	We are left to rewrite the constrained integration domain
	\begin{equation*}
		\phi(t,\vb{x})
		=
		\int_{\mathbb{R}^4}\frac{\dd[4]{p}}{(2\pi)^3}
		\delta^{(1)}\left(p_0^2-\omega(\vb{p})^2\right)
		\phi(p_0,\vb{p})
		e^{+ip_\mu x^\mu}
	\end{equation*}
	and using the composition property of the delta distribution
	\begin{equation*}
		\delta^{(1)}\left(p_0^2-\omega(\vb{p})^2\right)
		=
		\frac{
			\delta^{(1)}\left(p_0-\omega(\vb{p})\right)
			+
			\delta^{(1)}\left(p_0+\omega(\vb{p})\right)
		}{\sqrt{2\omega(\vb{p})}}
	\end{equation*}
	which leaves us with
	\begin{equation*}
		\phi(t,\vb{x})
		=
		\int_{\mathbb{R}^3}\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
		\biggl\{
			\phi(\omega(\vb{p}),\vb{p})
			e^{+i\omega(\vb{p})t}
			+
			\phi(-\omega(\vb{p}),\vb{p})
			e^{-i\omega(\vb{p})t}
		\biggr\}
		e^{-i\vb{p}\vdot\vb{x}}
		.
	\end{equation*}
	We now only need to perform the substitution $\vb{p}\to-\vb{p}$ on the second term
	\begin{equation*}
		\begin{split}
			\phi(t,\vb{x})
			&=
			\int_{\mathbb{R}^3}\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\biggl\{
				\phi(\omega(\vb{p}),\vb{p})
				e^{+i\omega(\vb{p})t}
				e^{-i\vb{p}\vdot\vb{x}}
				+
				\phi(-\omega(\vb{p}),\vb{p})
				e^{-i\omega(\vb{p})t}
				e^{-i\vb{p}\vdot\vb{x}}
			\biggr\}
			\\
			&=
			\int_{\mathbb{R}^3}\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\biggl\{
				\phi(\omega(\vb{p}),\vb{p})
				e^{+i\omega(\vb{p})t}
				e^{-i\vb{p}\vdot\vb{x}}
				+
				\phi(-\omega(\vb{p}),-\vb{p})
				e^{-i\omega(\vb{p})t}
				e^{+i\vb{p}\vdot\vb{x}}
			\biggr\}
			\\
			&=
			\int_{\mathbb{R}^3}\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\biggl\{
				\phi(\omega(\vb{p}),\vb{p})
				e^{+ip_\mu x^\mu}
				+
				\phi(\omega(\vb{p}),\vb{p})^*
				e^{-ip_\mu x^\mu}
			\biggr\}_{p_0=\omega(\vb{p})}
		\end{split}
	\end{equation*}
	and use the conjugate symmetry of the Fourier amplitudes
	\begin{equation*}
		\phi(p_0,\vb{p})^*
		=
		\phi(-p_0,-\vb{p})
	\end{equation*}
	which is present because $\phi(t,\vb{x})$ is real-valued.
\end{delayedproof}
\begin{delayedproof}{thm:kg_total_energy_momentum}
	Perform a spatial integration over the energy and momentum densities, see Ref.~\cite{Peskin1995}.
\end{delayedproof}
\begin{delayedproof}{thm:kg_comm_ac}
	Insert the Klein-Gordon field operators in terms of the annihilation and creation operators, \cref{eq:qkg_pos} and \cref{eq:qkg_mom}, into the field commutation relations \cref{eq:qkg_comm_pm}.
\end{delayedproof}

\subsection{Propagators}

\begin{delayedproof}{thm:qkg_full_comm_pn_comm}
	The first equal follows from
	\begin{equation*}
		\begin{split}
			\comm{\hat\phi^+(x^\mu)}{\hat\phi^-(y^\mu)}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			e^{-ip_\mu x^\mu}
			e^{+iq_\mu y^\mu}
			\comm{\hat{a}(\vb{p})}{\hat{a}^\dagger(\vb{q})}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			e^{-ip_\mu x^\mu}
			e^{+iq_\mu y^\mu}
			(2\pi)^3
			\delta^{(3)}(\vb{q}-\vb{p})
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			e^{-ip_\mu (x^\mu-y^\mu)}
			.
		\end{split}
	\end{equation*}
	The other identity follows analog while noting that in this case the commutators vanish.
\end{delayedproof}
\begin{delayedproof}{thm:qkg_propagator_correlation_function}
	We use $\hat\phi^+(x^\mu)\ket{0}=0$ and $\bra{0}\hat\phi^-(x^\mu)=0$
	\begin{equation*}
		\begin{split}
			\expval{\hat\phi(x^\mu)\hat\phi(y^\mu)}{0}
			&=
			\expval{\hat\phi^+(x^\mu)\hat\phi^+(y^\mu)}{0}
			+
			\expval{\hat\phi^+(x^\mu)\hat\phi^-(y^\mu)}{0}
			\\
			&+
			\expval{\hat\phi^-(x^\mu)\hat\phi^+(y^\mu)}{0}
			+
			\expval{\hat\phi^-(x^\mu)\hat\phi^-(y^\mu)}{0}
			\\
			&=
			\expval{\hat\phi^+(x^\mu)\hat\phi^-(y^\mu)}{0}
			\\
			&=
			D(x^\mu-y^\mu)
		\end{split}	
	\end{equation*}
	and the result of \Cref{thm:qkg_full_comm_pn_comm}.
\end{delayedproof}
\begin{delayedproof}{thm:propagator_kg_solution}
	See Ref.~\cite[p.~30]{Peskin1995}.
\end{delayedproof}

\subsection{Coordinate wave function properties}

\begin{delayedproof}{thm:coordinate_wave_function_simplified}
	The Klein-Gordon operator acting on the vacuum state reduces to the negative frequency Klein-Gordon operator
	\begin{equation*}
		\hat\phi(t,\vb{x})
		\ket{0}
		=
		\hat\phi^-(t,\vb{x})
		\ket{0}
	\end{equation*}
	because the annihilation operator destroy the vacuum $\hat{a}(\vb{p})\ket{0}=0$.
	We are left to take hermitian conjugate
	\begin{equation*}
		\begin{split}
			\bra{0}
			\hat\phi^+(t,\vb{x})
			&=
			\left(
				\hat\phi^-(t,\vb{x})
				\ket{0}
			\right)^\dagger
			\\
			&=
			\left(
				\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				e^{+ip_\mu x^\mu}
				\hat{a}^\dagger(\vb{p})
				\ket{0}
			\right)^\dagger
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			e^{-ip_\mu x^\mu}
			\bra{0}
			\hat{a}(\vb{p})
		\end{split}
	\end{equation*}
	and insert the definition of the negative frequency Klein-Gordon operator.
\end{delayedproof}

\section{Quantum states}

\subsection{Momentum state}

\begin{delayedproof}{thm:momentum_state_non_normalizable}
	The inner product of two momentum states is
	\begin{equation*}
		\braket{\vb{p}}{\vb{q}}
		=
		\sqrt{2\omega(\vb{p})}
		\sqrt{2\omega(\vb{q})}
		\expval{\hat{a}(\vb{p})\hat{a}^\dagger(\vb{q})}{0}
		=
		2\omega(\vb{p})
		(2\pi)^3
		\delta^{(3)}(\vb{q}-\vb{p})
	\end{equation*}
	where we used the commutation relation and $\hat{a}(\vb{p})\ket{0}=0$.
	For $\vb{p}=\vb{q}$ the inner product is proportional to $\delta^{(3)}(0)$ which has no consistent mathematical definition.
\end{delayedproof}
\begin{delayedproof}{thm:momentum_state_eigenstate}
	\begin{equation*}
		\begin{split}
			\hat{\vb{P}}
			\ket{\vb{p}}
			&=
			\int\frac{\dd[3]{q}}{(2\pi)^3}
			\vb{q}
			\hat{a}^\dagger(\vb{q})
			\hat{a}(\vb{q})
			\sqrt{2\omega(\vb{p})}
			\hat{a}^\dagger(\vb{p})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{q}}{(2\pi)^3}
			\vb{q}
			\sqrt{2\omega(\vb{p})}
			\hat{a}^\dagger(\vb{q})
			(2\pi)^3
			\delta^{(3)}(\vb{q}-\vb{p})
			\ket{0}
			\\
			&=
			\vb{p}
			\sqrt{2\omega(\vb{p})}
			\hat{a}^\dagger(\vb{p})
			\ket{0}
			=
			\vb{p}
			\ket{\vb{p}}
		\end{split}
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:momentum_state_wave_function}
	We use \Cref{thm:coordinate_wave_function_simplified} and insert the definition of the momentum state
	\begin{equation*}
		\begin{split}
			\psi(t,\vb{x})
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			e^{-ip_\mu x^\mu}
			\bra{0}
			\hat{a}(\vb{p})
			\ket{\vb{q}}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			e^{-ip_\mu x^\mu}
			\sqrt{2\omega(\vb{q})}
			\expval{
				\hat{a}(\vb{p})
				\hat{a}^\dagger(\vb{p})
			}{0}
			\\
			&=
			e^{-iq_\mu x^\mu}
		\end{split}
		.
	\end{equation*}
\end{delayedproof}

\subsection{Single-particle number state}

\begin{delayedproof}{thm:single_particle_number_state_smeared_kg}
	First, we note that the positive frequency Klein-Gordon operator vanishes,
	\begin{equation*}
		\int\dd[4]{x}
		f(x)
		\hat\phi(x)
		\ket{0}
		=
		\int\dd[4]{x}
		f(x)
		\hat\phi^-(x)
		\ket{0}
		,
	\end{equation*}
	because $\hat{a}(\vb{p})\ket{0}=0$, then we insert the definition of the negative frequency part \cref{eq:qkg_positive_negative_frequency}
	\begin{equation*}
		\begin{split}
			\int\dd[4]{x}
			f(x)
			\hat\phi^-(x)
			\ket{0}
			&=
			\int\dd[4]{x}
			f(x)
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			e^{+ip_\mu x^\mu}
			\hat{a}^\dagger(\vb{p})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\left(
				\int\dd[4]{x}
				f(x)
				e^{+ip_\mu x^\mu}
			\right)
			\hat{a}^\dagger(\vb{p})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			f(\vb{p})
			\hat{a}^\dagger(\vb{p})
			\ket{0}
			\\
			&=
			\ket{1_f}
		\end{split}
	\end{equation*}
	and recognize the single-particle number state.
\end{delayedproof}
\begin{delayedproof}{th:single_particle_number_states_inner_product}
	Simply inserting the definition and using the commutation relations
	\begin{equation*}
		\begin{split}
			\bra{1_g}\ket{1_f}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{p})g(\vb{q})^*
			\expval{\hat{a}(\vb{q})\hat{a}^\dagger(\vb{p})}{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{p})g(\vb{q})^*
			(2\pi)^3\delta^{(3)}(\vb{q}-\vb{p})
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			f(\vb{p})g(\vb{p})^*
		\end{split}
	\end{equation*}
	shows the equality.
\end{delayedproof}
\begin{delayedproof}{thm:single_particle_number_state_normalization}
	The probabilistic interpretation of quantum mechanics requires the absolute square of the probability amplitude to equal one, i.e.,
	\begin{equation*}
		\abs{\braket{1_f}}^2
		=
		1
		.
	\end{equation*}
	From \Cref{th:single_particle_number_states_inner_product}, we know that
	\begin{equation*}
		\braket{1_f}
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\abs{f(\vb{p})}^2
	\end{equation*}
	which is real-valued. Combining both insights, we must conclude
	\begin{equation*}
		\braket{1_f}
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\abs{f(\vb{p})}^2
		=
		1
		.
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:single_particle_number_state_number_eigenstate}
	Inserting the definitions and carefully applying the commutation relations
	\begin{equation*}
		\begin{split}
			\hat{N}
			\ket{1_f}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\hat{a}^\dagger(\vb{p})
			\hat{a}(\vb{p})
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\hat{a}^\dagger(\vb{p})
			\hat{a}(\vb{p})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\hat{a}^\dagger(\vb{p})
			(2\pi)^3
			\delta^{(3)}(\vb{q}-\vb{p})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			f(\vb{p})
			\hat{a}^\dagger(\vb{p})
			\ket{0}
			\\
			&=
			1
			\ket{1_f}
		\end{split}
		,
	\end{equation*}
	we identify the single-particle state which has trivial eigenvalue $1$.
\end{delayedproof}
\begin{delayedproof}{thm:single_particle_number_state_energy}
	Using the auxiliary result
	\begin{equation*}
		\begin{split}
			\hat{H}
			\ket{1_f}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\omega(\vb{p})
			\hat{a}^\dagger(\vb{p})
			\hat{a}(\vb{p})
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\omega(\vb{p})
			\hat{a}^\dagger(\vb{p})
			\hat{a}(\vb{p})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\omega(\vb{p})
			\hat{a}^\dagger(\vb{p})
			(2\pi)^3
			\delta^{(3)}(\vb{p}-\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\omega(\vb{q})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
		\end{split}
		,
	\end{equation*}
	the first moment turns out to be
	\begin{equation*}
		\begin{split}
			\expval{\hat{H}}{1_f}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			f(\vb{p})^*
			\bra{0}
			\hat{a}(\vb{p})
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\omega(\vb{q})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			\omega(\vb{q})
			f(\vb{p})^*
			f(\vb{q})
			\expval{
				\hat{a}(\vb{p})
				\hat{a}^\dagger(\vb{q})
			}{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			\omega(\vb{p})
			\abs{f(\vb{p})}^2
		\end{split}
	\end{equation*}
	in agreement with Ref.~\cite[eqs.~10 and 11]{Naumov2013}.
	The second moment turns out as
	\begin{equation*}
		\begin{split}
			\expval{\hat{H}^2}{1_f}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			f(\vb{p})^*
			\omega(\vb{p})
			\bra{0}
			\hat{a}(\vb{p})
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			f(\vb{q})
			\omega(\vb{q})
			\hat{a}^\dagger(\vb{q})
			\ket{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			\omega(\vb{p})
			\omega(\vb{q})
			f(\vb{p})^*
			f(\vb{q})
			\expval{
				\hat{a}(\vb{p})
				\hat{a}^\dagger(\vb{q})
			}{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			\omega(\vb{p})^2
			\abs{f(\vb{p})}^2
		\end{split}
		.
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:single_particle_number_state_wave_function}
	of the coordinate wave function
	\begin{equation*}
		\psi(t,\vb{x})
		=
		\bra{0}
		\hat\phi(t,\vb{x})
		\ket{1_f}
		=
		\bra{0}
		\hat\phi^+(t,\vb{x})
		\ket{1_f}
		.
	\end{equation*}
	Inserting the definition of the single-particle number state yields
	\begin{equation*}
		\begin{split}
			\psi(t,\vb{x})
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			e^{-ip_\mu x^\mu}
			\expval{
				\hat{a}(\vb{p})
				\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
				f(\vb{q})
				\hat{a}^\dagger(\vb{p})
			}{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			e^{-ip_\mu x^\mu}
			f(\vb{q})
			\expval{
				\hat{a}(\vb{p})
				\hat{a}^\dagger(\vb{p})
			}{0}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
			e^{-ip_\mu x^\mu}
			f(\vb{q})
			(2\pi)^3
			\delta^{(3)}(\vb{q}-\vb{p})
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			e^{-ip_\mu x^\mu}
			f(\vb{p})
		\end{split}
	\end{equation*}
	in agreement with Ref.~\cite[eq.~4]{Naumov2013}.
\end{delayedproof}
\begin{lemma}
	The probability current of a single-particle number state is
	\begin{equation}
		j_\mu(t,\vb{x})
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\int\frac{\dd[3]{q}}{(2\pi)^32\omega(\vb{q})}
		q_\mu
		2\Re\left\{
			f(\vb{p})^*
			f(\vb{q})
			e^{-i(q_\mu-p_\mu)x^\mu}
		\right\}
	\end{equation}
\end{lemma}
\begin{proof}
	The probability current is\footnote{See Ref.~\cite[p.~18]{Peskin1995} for a derivation from Noether's theorem}
	\begin{equation*}
		j^\mu(t,\vb{x})
		=
		i
		\bigl\{
			\psi(t,\vb{x})
			\partial^\mu
			\psi(t,\vb{x})^*
			-
			\psi(t,\vb{x})^*
			\partial^\mu
			\psi(t,\vb{x})
		\bigr\}
	\end{equation*}
	and can be written
	\begin{equation*}
		j^\mu(t,\vb{x})
		=
		2\frac{\psi(t,\vb{x})\partial^\mu\psi(t,\vb{x})^*-\text{c.c.}}{2i}
		=
		2\Im\left\{
			\psi(t,\vb{x})
			\partial^\mu
			\psi(t,\vb{x})^*
		\right\}
		.
	\end{equation*}
	We proceed with the argument of the imaginary part
	\begin{equation*}
		\begin{split}
			\psi(t,\vb{x})^*
			\partial^\mu
			\psi(t,\vb{x})
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			e^{-ip_\mu x^\mu}
			f(\vb{p})
			\partial^\mu
			\int\frac{\dd[3]{q}}{(2\pi)^32\omega(\vb{q})}
			e^{+iq_\mu x^\mu}
			f(\vb{q})^*
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			\int\frac{\dd[3]{q}}{(2\pi)^32\omega(\vb{q})}
			iq^\mu
			f(\vb{p})
			f(\vb{q})^*
			e^{-i(p_\mu-q_\mu)x^\mu}
		\end{split}
		.
	\end{equation*}
	Inserting the argument back into the probability current and using $\Im{iz}=\Re{z}$, we find
	\begin{equation*}
		j^\mu(t,\vb{x})
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\int\frac{\dd[3]{q}}{(2\pi)^32\omega(\vb{q})}
		2\Re\left\{
			q^\mu
			f(\vb{p})
			f(\vb{q})^*
			e^{-i(p_\mu-q_\mu)x^\mu}
		\right\}
		.
	\end{equation*}
	Writing out the real part and relabeling the integration variables in the second term yields
	\begin{equation*}
		j^\mu(t,\vb{x})
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\int\frac{\dd[3]{q}}{(2\pi)^32\omega(\vb{q})}
		\left\{
			q^\mu
			+
			p^\mu
		\right\}
		f(\vb{p})
		f(\vb{q})^*
		e^{-i(p_\mu-q_\mu)x^\mu}
		.
	\end{equation*}	
	The last result is in agreement with Ref.~\cite[eqs.~36,37]{Naumov2013} if one further assumes $f(\vb{p})$ to be real.
\end{proof}
\begin{delayedproof}{thm:single_particle_number_state_group_velocity}
	No explicit proof, result claimed in Ref.~\cite[eq.~38]{Naumov2013}.
\end{delayedproof}
\begin{delayedproof}{thm:single_partiicle_number_state_inner_product_pn_smeared_kg_comm}
	We insert the definition of the smeared Klein-Gordon operator
	\begin{equation*}
		\begin{split}
			\comm{\hat\phi^+[f]}{\hat\phi^-[g]}
			&=
			\iint\dd[4]{x}\dd[4]{y}
			f(x^\mu)
			\comm{\hat\phi^+(x^\mu)}{\hat\phi^-(y^\mu)}
			g(y^\mu)
			\\
			&=
			\iint\dd[4]{x}\dd[4]{y}
			f(x^\mu)
			D(x^\mu-y^\mu)
			g(y^\mu)
			\\
			&=
			\iint\dd[4]{x}\dd[4]{y}
			f(x^\mu)
			\left(
				\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
				e^{-ip_\mu (x^\mu-y^\mu)}
			\right)
			g(y^\mu)
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			\left(
				\int\dd[4]{x}
				f(x^\mu)
				e^{+ip_\mu x^\mu}
			\right)^*
			\left(
				\int\dd[4]{y}
				g(y^\mu)
				e^{+ip_\mu y^\mu}
			\right)
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			f(\vb{p})^*
			g(\vb{p})
			\\
			&=
			\braket{1_f}{1_g}
		\end{split}
	\end{equation*}
	where we used \Cref{thm:qkg_full_comm_pn_comm} to replace the commutator with the propagator, inserted the definition of the propagator, and used the definition of the Fourier transform.
\end{delayedproof}

\subsection{Multi-particle number state}

\begin{lemma}\label{th:normal_ordered_a1_cn}
	Let $\hat{a}(\vb{p}),\hat{a}^\dagger(\vb{p})$ be the annihilation and creation operator of the Klein-Gordon field satisfying the canonical commutation relations then for $n\in\mathbb{N}$
	\begin{equation}
		\hat{a}(\vb{p})
		\prod_{j=1}^n
		\hat{a}^\dagger(\vb{q}_j)
		\ket{0}
		=
		\sum_{i=1}^n
		(2\pi)^3
		\delta^{(3)}(\vb{q}_i-\vb{p})
		\prod_{\substack{j=1\\j\neq i}}^n
		\hat{a}^\dagger(\vb{q}_j)
		\ket{0}
		\label{eq:normal_ordered_a1_cn}
		.
	\end{equation}
\end{lemma}
\begin{proof}
	Induction start $n=1$:
	\begin{equation*}
		\hat{a}(\vb{p})
		\prod_{j=1}^1
		\hat{a}^\dagger(\vb{q}_j)
		\ket{0}
		=
		\hat{a}(\vb{p})
		\hat{a}^\dagger(\vb{q}_1)
		\ket{0}
		=
		(2\pi)^3
		\delta^{(3)}(\vb{q}_1-\vb{p})
		\ket{0}
	\end{equation*}
	where we used the commutation relation and $\hat{a}(\vb{p})\ket{0}=0$.

	Induction step $n\to n+1$:
	\begin{equation*}
		\begin{split}
			\hat{a}(\vb{p})
			\prod_{j=1}^{n+1}
			\hat{a}^\dagger(\vb{q}_j)
			\ket{0}
			&=
			\hat{a}(\vb{p})
			\left(
				\prod_{j=1}^n
				\hat{a}^\dagger(\vb{q}_j)
			\right)
			\hat{a}^\dagger(\vb{q}_{n+1})
			\ket{0}
			\\
			&=
			\hat{a}(\vb{p})
			\hat{a}^\dagger(\vb{q}_{n+1})
			\left(
				\prod_{j=1}^n
				\hat{a}^\dagger(\vb{q}_j)
			\right)
			\ket{0}
			\\
			&=
			(2\pi)^3
			\delta^{(3)}(\vb{q}_{n+1}-\vb{p})
			\prod_{j=1}^n
			\hat{a}^\dagger(\vb{q}_j)
			\ket{0}
			+
			\hat{a}^\dagger(\vb{q}_{n+1})
			\hat{a}(\vb{p})
			\prod_{j=1}^n
			\hat{a}^\dagger(\vb{q}_j)
			\ket{0}
			\\
			&=
			(2\pi)^3
			\delta^{(3)}(\vb{q}_{n+1}-\vb{p})
			\prod_{j=1}^n
			\hat{a}^\dagger(\vb{q}_j)
			\ket{0}
			+
			\sum_{i=1}^n
			(2\pi)^3
			\delta^{(3)}(\vb{q}_i-\vb{p})
			\prod_{\substack{j=1\\j\neq i}}^{n+1}
			\hat{a}^\dagger(\vb{q}_j)
			\ket{0}
			\\
			&=
			\sum_{i=1}^{n+1}
			(2\pi)^3
			\delta^{(3)}(\vb{q}_i-\vb{p})
			\prod_{\substack{j=1\\j\neq i}}^{n+1}
			\hat{a}^\dagger(\vb{q}_j)
			\ket{0}
		\end{split}
	\end{equation*}
	where we used that creation operators commute in the first line, the canonical commutation relation in the second line, and the induction hypothesis in the third line.
\end{proof}
\begin{lemma}\label{thm:anti_normal_expvalue}
	Let $n,m\in\mathbb{N}$ then
	\begin{equation}
		\expval{
			\hat{a}(\vb{p}_1)
			\dots
			\hat{a}(\vb{p}_n)
			\hat{a}^\dagger(\vb{q}_1)
			\dots
			\hat{a}^\dagger(\vb{q}_m)
		}{0}
		=
		\delta_{nm}
		\sum_{\pi\in\textrm{perm}}
		\prod^n_{i=1}
		(2\pi)^3
		\delta^{(3)}(\vb{p}_i-\vb{q}_{\pi(i)})
	\end{equation}
	where the sum is over all pairwise permutations of $(i,j)\in\left\{1,\dots,n\right\}^2$.
\end{lemma}
\begin{proof}
	Assuming $s=n-m>0$, then
	\begin{equation*}
		\expval{
			\hat{a}(\vb{p}_1)
			\dots
			\hat{a}(\vb{p}_n)
			\hat{a}^\dagger(\vb{q}_1)
			\dots
			\hat{a}^\dagger(\vb{q}_m)
		}{0}
		\propto
		\expval{
			\hat{a}(\vb{p}_{i_1})
			\dots
			\hat{a}(\vb{p}_{i_s})
		}{0}
		=
		0
	\end{equation*}
	because of $\hat{a}(\vb{p})\ket{0}=0$. The case $s<0$ follows directly from the hermitian conjugate.
	We conclude that the expectation value is only non-zero iff $n=m$.
	
	Induction start $n=1$:
	\begin{equation*}
		\expval{
			\hat{a}(\vb{p}_1)
			\hat{a}^\dagger(\vb{q}_1)
			\dots
			\hat{a}^\dagger(\vb{q}_m)
		}{0}
		=
		\delta_{m1}
		\expval{
			\hat{a}(\vb{p}_1)
			\hat{a}^\dagger(\vb{q}_1)
		}{0}
		=
		\delta_{m1}
		(2\pi)^3
		\delta^{(3)}(\vb{q}_1-\vb{p}_1)
	\end{equation*}
	
	Induction step $n\to n+1$:
	\begin{equation*}
		\begin{split}
			&\
			\expval{
				\hat{a}(\vb{p}_1)
				\dots
				\hat{a}(\vb{p}_{n+1})
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_{m+1})
			}{0}
			\\
			=&\
			\delta_{nm}
			\expval{
				\hat{a}(\vb{p}_1)
				\dots
				\hat{a}(\vb{p}_{n+1})
				\hat{a}^\dagger(\vb{q}_{n+1})
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_n)
			}{0}
			\\
			=&\
			\delta_{nm}
			(2\pi)^3
			\delta^{(3)}(\vb{q}_{n+1}-\vb{p}_{n+1})
			\expval{
				\hat{a}(\vb{p}_1)
				\dots
				\hat{a}(\vb{p}_n)
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_n)
			}{0}
			\\
			+&\
			\delta_{nm}
			\expval{
				\hat{a}(\vb{p}_1)
				\dots
				\hat{a}(\vb{p}_n)
				\hat{a}^\dagger(\vb{q}_{n+1})
				\hat{a}(\vb{p}_{n+1})
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_n)
			}{0}
		\end{split}
	\end{equation*}
	the second term can be further simplified to
	\begin{equation*}
		\begin{split}
			&\
			\expval{
				\hat{a}(\vb{p}_1)
				\dots
				\hat{a}(\vb{p}_n)
				\hat{a}^\dagger(\vb{q}_{n+1})
				\hat{a}(\vb{p}_{n+1})
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_n)
			}{0}
			\\
			=&\
			\left(
				\hat{a}(\vb{q}_{n+1})
				\hat{a}^\dagger(\vb{p}_1)
				\dots
				\hat{a}^\dagger(\vb{p}_n)
				\ket{0}
			\right)^\dagger
			\left(
				\hat{a}(\vb{p}_{n+1})
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_n)
				\ket{0}
			\right)
			\\
			=&\
			\left(
				\sum^n_{i=1}
				(2\pi)^3
				\delta^{(3)}(\vb{p}_i-\vb{q}_{n+1})
				\prod_{\substack{j=1\\j\neq i}}^n
				\hat{a}^\dagger(\vb{p}_j)
				\ket{0}
			\right)^\dagger
			\left(
				\sum^n_{l=1}
				(2\pi)^3
				\delta^{(3)}(\vb{q}_l-\vb{p}_{n+1})
				\prod_{\substack{k=1\\k\neq l}}^n
				\hat{a}^\dagger(\vb{p}_k)
				\ket{0}
			\right)
			\\
			=&\
			\sum^n_{i,l=1}
			\delta^{(3)}(\vb{p}_i-\vb{q}_{n+1})
			\delta^{(3)}(\vb{q}_l-\vb{p}_{n+1})
			\expval{
				\left(
					\prod_{\substack{j=1\\j\neq i}}^n
					\hat{a}(\vb{p}_j)
				\right)
				\left(
					\prod_{\substack{k=1\\k\neq l}}^n
					\hat{a}^\dagger(\vb{p}_k)
				\right)
			}{0}
		\end{split}
	\end{equation*}
	applying the induction hypothesis and inserting the second term back, we complete the induction step as all permutations are accounted for.
\end{proof}
\begin{delayedproof}{thm:multi_particle_number_state_inner_product}
	Using \Cref{thm:anti_normal_expvalue} and noting that the sum over the permutations compensates for the factorials, we find
	\begin{equation*}
		\begin{split}
			\braket{n_f}{m_g}
			&=
			\expval{
				\frac{1}{\sqrt{n!}}
				\left(
					\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
					f(\vb{p})^*
					\hat{a}(\vb{p})
				\right)^n
				\frac{1}{\sqrt{m!}}
				\left(
					\int\frac{\dd[3]{q}}{(2\pi)^3\sqrt{2\omega(\vb{q})}}
					g(\vb{q})
					\hat{a}^\dagger(\vb{q})
				\right)^m
			}{0}
			\\
			&=
			\int\frac{\dd[3]{p_1}}{(2\pi)^3\sqrt{2\omega(\vb{p}_1)}}
			\dots
			\int\frac{\dd[3]{p_n}}{(2\pi)^3\sqrt{2\omega(\vb{p}_n)}}
			\int\frac{\dd[3]{q_1}}{(2\pi)^3\sqrt{2\omega(\vb{q}_1)}}
			\dots
			\int\frac{\dd[3]{q_m}}{(2\pi)^3\sqrt{2\omega(\vb{q}_m)}}
			\\
			&\times
			\frac{1}{\sqrt{n!}}
			f(\vb{p}_1)^*
			\dots
			f(\vb{p}_n)^*
			\frac{1}{\sqrt{m!}}
			g(\vb{q}_1)
			\dots
			g(\vb{q}_m)
			\expval{
				\hat{a}(\vb{p}_1)
				\dots
				\hat{a}(\vb{p}_n)
				\hat{a}^\dagger(\vb{q}_1)
				\dots
				\hat{a}^\dagger(\vb{q}_m)
			}{0}
			\\
			&=
			\delta_{nm}
			\int\frac{\dd[3]{p_1}}{(2\pi)^32\omega(\vb{p}_1)}
			f(\vb{p}_1)^*
			g(\vb{p}_1)
			\dots
			\int\frac{\dd[3]{p_n}}{(2\pi)^32\omega(\vb{p}_n)}
			f(\vb{p}_n)^*
			g(\vb{p}_n)
			\\
			&=
			\left(
				\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
				f(\vb{p})^*
				g(\vb{p})
			\right)^n
		\end{split}
	\end{equation*}
\end{delayedproof}

\subsection{Coherent state}

\begin{delayedproof}{thm:displacement_operator_normal_ordered}
	See Ref.~\cite[p.~48]{Barnett2002}.
\end{delayedproof}
\begin{delayedproof}{thm:displacement_operator_simplified}
	The identification of
	\begin{equation*}
		\hat\phi^-[\alpha]
		=
		\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
		\alpha(\vb{p})^*
		\hat{a}(\vb{p})
	\end{equation*}
	follows from the smearing of the Klein-Gordon operators as discussed in \Cref{thm:single_particle_number_state_smeared_kg},
	and the identification
	\begin{equation*}
		\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\abs{\alpha(\vb{p})}^2
	\end{equation*}
	follows from \Cref{thm:single_partiicle_number_state_inner_product_pn_smeared_kg_comm}.
\end{delayedproof}
\begin{delayedproof}{thm:displacement_operator_product}
	Inserting the definitions of the normal-ordered displacement operator from \Cref{thm:displacement_operator_simplified}, we find
	\begin{equation*}
		\begin{split}
			\hat{D}[\alpha]
			\hat{D}[\beta]
			&=
			\left(
				\exp\left\{
					-
					\frac{1}{2}
					\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				\right\}
				\exp\left\{
					+\hat\phi^-[\alpha]
				\right\}
				\exp\left\{
					-\hat\phi^+[\alpha]
				\right\}
			\right)
			\\
			&\times
			\left(
				\exp\left\{
					-
					\frac{1}{2}
					\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
				\right\}
				\exp\left\{
					+\hat\phi^-[\beta]
				\right\}
				\exp\left\{
					-\hat\phi^+[\beta]
				\right\}
			\right)
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			\right\}
			\\
			&\times
			\exp\left\{
				\hat\phi^-[\alpha]
			\right\}
			\left(
				\exp\left\{
					\hat\phi^+[-\alpha]
				\right\}
				\exp\left\{
					\hat\phi^-[\beta]
				\right\}
			\right)
			\exp\left\{
				\hat\phi^+[-\beta]
			\right\}
			.
		\end{split}
	\end{equation*}
	Because the commutator of the Klein-Gordon field operators are complex numbers, we can use the reduced Baker-Campbell-Hausdorff formula\footnote{The reduced BCH formula requires $\comm{\hat{X}}{\comm{\hat{X}}{\hat{Y}}}=0$.}
	\begin{equation*}
		\exp\hat{X}
		\exp\hat{Y}
		=
		\exp\left\{
			\hat{X}
			+
			\hat{Y}
			+
			\frac{1}{2}
			\comm{\hat{X}}{\hat{Y}}
		\right\}
	\end{equation*}
	where $\hat{X}=\hat\phi^+[-\alpha]$ and $\hat{Y}=\hat\phi^-[\beta]$.
	Using the Baker-Campbell-Hausdorff formula twice, we find
	\begin{equation*}
		\begin{split}
			\exp\hat{X}
			\exp\hat{Y}
			&=
			\exp\left\{
				\hat{X}
				+
				\hat{Y}
				+
				\frac{1}{2}
				\comm{\hat{X}}{\hat{Y}}
			\right\}
			\\
			&=
			\exp\left\{
				\hat{Y}
				+
				\hat{X}
			\right\}
			\exp\left\{
				\frac{1}{2}
				\comm{\hat{X}}{\hat{Y}}
			\right\}
			\\
			&=
			\exp\hat{Y}
			\exp\hat{X}
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat{Y}}{\hat{X}}
			\right\}
			\exp\left\{
				+
				\frac{1}{2}
				\comm{\hat{X}}{\hat{Y}}
			\right\}
			\\
			&=
			\exp\hat{Y}
			\exp\hat{X}
			\exp\left\{
				\comm{\hat{X}}{\hat{Y}}
			\right\}
		\end{split}
	\end{equation*}
	which we insert back into the first equation
	\begin{equation*}
		\begin{split}
			\hat{D}[\alpha]
			\hat{D}[\beta]
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			\right\}
			\exp\left\{
				\hat\phi^-[\alpha]
			\right\}
			\\
			&\times
			\left(
				\exp\left\{
					\hat\phi^-[\beta]
				\right\}
				\exp\left\{
					\hat\phi^+[-\alpha]
				\right\}
				\exp\left\{
					\comm{\hat\phi^+[-\alpha]}{\hat\phi^-[\beta]}
				\right\}
			\right)
			\exp\left\{
				\hat\phi^+[-\beta]
			\right\}
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
				+
				\comm{\hat\phi^+[-\alpha]}{\hat\phi^-[\beta]}
			\right\}
			\\
			&\times
			\exp\left\{
				+
				\hat\phi^-[\alpha+\beta]
			\right\}
			\exp\left\{
				-
				\hat\phi^+[\alpha+\beta]
			\right\}
			.
		\end{split}
	\end{equation*}
	To identify the normal-ordered displacement operator again, we are left to summarize the commutators
	\begin{equation*}
		\begin{split}
			&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			+
			\comm{\hat\phi^+[-\alpha]}{\hat\phi^-[\beta]}
			\\
			=&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			-
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
			\\
			=&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
			\\
			=&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha+\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
			\\
			=&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha+\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha+\beta]}
			\\
			&\
			+
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha+\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
			\\
			=&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha+\beta]}{\hat\phi^-[\alpha+\beta]}
			+
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha]}
			\\
			&\
			+
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
			\\
			=&\
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha+\beta]}{\hat\phi^-[\alpha+\beta]}
			+
			\frac{1}{2}
			\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha]}
			-
			\frac{1}{2}
			\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
		\end{split}
	\end{equation*}
	where we extensively made use of the (multi-)linearity.
	\begin{equation*}
		\begin{split}
			\hat{D}[\alpha]
			\hat{D}[\beta]
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha+\beta]}{\hat\phi^-[\alpha+\beta]}
			\right\}
			\exp\left\{
				+
				\hat\phi^-[\alpha+\beta]
			\right\}
			\exp\left\{
				-
				\hat\phi^+[\alpha+\beta]
			\right\}
			\\
			&\times
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha]}
			\right\}
			\\
			&=
			\hat{D}[\alpha+\beta]
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha]}
			\right\}
		\end{split}
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:displacement_operator_unitary}
	Using the notation introduced in \Cref{thm:displacement_operator_simplified} and the normal-ordered displacement operator, we show $\hat{D}[\alpha]^\dagger=\hat{D}[-\alpha]$
	\begin{equation*}
		\begin{split}
			\hat{D}[\alpha]^\dagger
			&=
			\left(
				\exp\left\{
					-
					\frac{1}{2}
					\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				\right\}
				\exp\left\{
					+
					\hat\phi^-[\alpha]
				\right\}
				\exp\left\{
					-
					\hat\phi^+[\alpha]
				\right\}
			\right)^\dagger
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
			\right\}
			\exp\left\{
				+
				\hat\phi^-[\alpha]
			\right\}^\dagger
			\exp\left\{
				-
				\hat\phi^+[\alpha]
			\right\}^\dagger
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
			\right\}
			\exp\left\{
				+
				\hat\phi^+[\alpha]
			\right\}
			\exp\left\{
				-
				\hat\phi^-[\alpha]
			\right\}
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[-\alpha]}{\hat\phi^-[-\alpha]}
			\right\}
			\exp\left\{
				-
				\hat\phi^+[-\alpha]
			\right\}
			\exp\left\{
				+
				\hat\phi^-[-\alpha]
			\right\}
			\\
			&=
			\hat{D}[-\alpha]
			.
		\end{split}
	\end{equation*}
	\Cref{thm:displacement_operator_product} lets us evaluate the product of two displacement operators
	\begin{equation*}
		\hat{D}[\alpha]^\dagger
		\hat{D}[\alpha]
		=
		\hat{D}[-\alpha]
		\hat{D}[\alpha]
		=
		\hat{D}[-\alpha+\alpha]
		=
		\mathbb{I}
		.
	\end{equation*}
	We conclude that $\hat{D}[\alpha]^\dagger$ is the inverse of the displacement operator and therefore the displacement operator is unitary.
\end{delayedproof}
\begin{delayedproof}{thm:coherent_state_annihilation_eigenvalue}
	We use the series representation of the operator exponential and \cref{th:normal_ordered_a1_cn} to move the annihilation operator to the right
	\begin{equation*}
		\begin{split}
			&
			\hat{a}(\vb{p})
			\exp\left\{
				-i
				\int\frac{\dd[3]{p}\alpha(\vb{p})}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				\hat{a}^\dagger(\vb{p})
			\right\}
			\ket{0}
			\\
			=&\
			\hat{a}(\vb{p})
			\sum_{n=0}^\infty
			\frac{1}{n!}
			\left(
				-i
				\int\frac{\dd[3]{p}\alpha(\vb{p})}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				\hat{a}^\dagger(\vb{p})
			\right)^n
			\ket{0}
			\\
			=&\
			\sum_{n=0}^\infty
			\frac{1}{n!}
			(-i)^n
			\int\frac{\dd[3]{p_1}\alpha(\vb{p}_1)}{(2\pi)^3\sqrt{2\omega(\vb{p}_1)}}
			\dots
			\int\frac{\dd[3]{p_n}\alpha(\vb{p}_n)}{(2\pi)^3\sqrt{2\omega(\vb{p}_n)}}
			\hat{a}(\vb{p})
			\prod_{j=1}^n
			\hat{a}^\dagger(\vb{p}_j)
			\ket{0}
			\\
			=&\
			\sum_{n=1}^\infty
			\frac{1}{n!}
			(-i)^n
			\int\frac{\dd[3]{p_1}\alpha(\vb{p}_1)}{(2\pi)^3\sqrt{2\omega(\vb{p}_1)}}
			\dots
			\int\frac{\dd[3]{p_n}\alpha(\vb{p}_n)}{(2\pi)^3\sqrt{2\omega(\vb{p}_n)}}
			\sum_{i=1}^n
			(2\pi)^3
			\delta^{(3)}(\vb{p}_i-\vb{p})
			\prod_{\substack{j=1\\j\neq i}}^n
			\hat{a}^\dagger(\vb{p}_j)
			\ket{0}
			\\
			=&\
			\sum_{n=1}^\infty
			\frac{1}{n!}
			(-i)^n
			\sum_{i=1}^n
			\frac{\alpha(\vb{p})}{\sqrt{2\omega(\vb{p})}}
			\prod_{\substack{j=1\\j\neq i}}^n
			\int\frac{\dd[3]{p_j}\alpha(\vb{p}_j)}{(2\pi)^3\sqrt{2\omega(\vb{p}_j)}}
			\hat{a}^\dagger(\vb{p}_j)
			\ket{0}
			\\
			=&\
			\sum_{n=1}^\infty
			\frac{1}{(n-1)!}
			(-i)^n
			\frac{\alpha(\vb{p})}{\sqrt{2\omega(\vb{p})}}
			\left(
				\int\frac{\dd[3]{p}\alpha(\vb{p})}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				\hat{a}^\dagger(\vb{p})
			\right)^n
			\ket{0}
			\\
			=&\
			\frac{\alpha(\vb{p})}{\sqrt{2\omega(\vb{p})}}
			\sum_{n=0}^\infty
			\frac{1}{n!}
			\left(
				-i
				\int\frac{\dd[3]{p}\alpha(\vb{p})}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				\hat{a}^\dagger(\vb{p})
			\right)^n
			\ket{0}
			\\
			=&\
			\frac{\alpha(\vb{p})}{\sqrt{2\omega(\vb{p})}}
			\exp\left\{
				-i
				\int\frac{\dd[3]{p}\alpha(\vb{p})}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				\hat{a}^\dagger(\vb{p})
			\right\}
			\ket{0}
		\end{split}
	\end{equation*}
	and to obtain the eigenvalue equation we are left to multiply both sides with
	\begin{equation*}
		\exp\left\{
			-
			\frac{1}{2}
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\abs{\alpha(\vb{p})}^2
		\right\}
		.
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:coherent_state_energy_observable}
	For the first moment of the energy observable, we insert the definitions
	\begin{equation*}
		\begin{split}
			\expval{\hat{H}}{\alpha}
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\omega(\vb{p})
			\expval{\hat{a}^\dagger(\vb{p})\hat{a}(\vb{p})}{\alpha}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3}
			\omega(\vb{p})
			\expval{\frac{\alpha(\vb{p})^*}{2\omega(\vb{p})}\frac{\alpha(\vb{p})}{2\omega(\vb{p})}}{\alpha}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			\omega(\vb{p})
			\abs{\alpha(\vb{p})}^2
		\end{split}
	\end{equation*}
	and use the eigenvalue equation. For the second moment, we again use the definitions and the eigenvalue equation
	\begin{equation*}
		\begin{split}
			\expval{\hat{H}^2}{\alpha}
			&=
			\int\frac{\dd[3]{p}_1}{(2\pi)^3}
			\int\frac{\dd[3]{p}_2}{(2\pi)^3}
			\omega(\vb{p}_1)
			\omega(\vb{p}_2)
			\expval{
				\hat{a}^\dagger(\vb{p}_1)
				\hat{a}(\vb{p}_1)
				\hat{a}^\dagger(\vb{p}_2)
				\hat{a}(\vb{p}_2)
			}{\alpha}
			\\
			&=
			\int\frac{\dd[3]{p}_1}{(2\pi)^3\sqrt{2\omega(\vb{p}_1)}}
			\int\frac{\dd[3]{p}_2}{(2\pi)^3\sqrt{2\omega(\vb{p}_2)}}
			\omega(\vb{p}_1)
			\omega(\vb{p}_2)
			\alpha(\vb{p}_1)^*
			\alpha(\vb{p}_2)
			\expval{
				\hat{a}(\vb{p}_1)
				\hat{a}^\dagger(\vb{p}_2)
			}{\alpha}
			\\
			&=
			\int\frac{\dd[3]{p}_1}{(2\pi)^3\sqrt{2\omega(\vb{p}_1)}}
			\int\frac{\dd[3]{p}_2}{(2\pi)^3\sqrt{2\omega(\vb{p}_2)}}
			\omega(\vb{p}_1)
			\omega(\vb{p}_2)			
			\alpha(\vb{p}_1)^*
			\alpha(\vb{p}_2)
			\\
			&\times
			\expval{
				(2\pi)^3
				\delta^{(3)}(\vb{p}_2-\vb{p}_1)
				+
				\hat{a}^\dagger(\vb{p}_2)
				\hat{a}(\vb{p}_1)
			}{\alpha}
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p}_1)}
			\omega(\vb{p})^2
			\abs{\alpha(\vb{p})}^2
			+
			\left(
				\int\frac{\dd[3]{p}_1}{(2\pi)^32\omega(\vb{p})}
				\omega(\vb{p})
				\abs{\alpha(\vb{p})}^2
			\right)^2
		\end{split}
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:coherent_state_number_observable}
	The number observable is a special case of \Cref{thm:coherent_state_energy_observable} for $\omega(\vb{p})=1$.
\end{delayedproof}
\begin{delayedproof}{thm:coherent_state_number_state_inner_product}
	Expanding the exponential series and noting that the coefficients have the same algebraic form as a $m$-particle state with spectrum $\alpha(\vb{p})$\footnote{Except for the coherent spectrum $\alpha(\vb{p})$ being unbound.}, we find
	\begin{equation*}
		\braket{n_f}{\alpha}
		=
		\sum_{m=0}^\infty
		\frac{1}{\sqrt{m!}}
		\braket{n_f}{m_\alpha}
		e^{-\overline{n}/2}
		=
		\frac{1}{\sqrt{m!}}
		\left(
			\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
			f(\vb{p})^*
			\alpha(\vb{p})
		\right)^n
		e^{-\overline{n}/2}
	\end{equation*}
\end{delayedproof}
\begin{delayedproof}{thm:coherent_state_inner_product}
	\begin{equation*}
		\begin{split}
			\braket{\alpha}{\beta}
			&=
			\expval{
				\hat{D}[\alpha]^\dagger
				\hat{D}[\beta]
			}{0}
			\\
			&=
			\expval{
				\hat{D}[-\alpha]
				\hat{D}[\beta]
			}{0}
			\\
			&=
			\expval{
				\hat{D}[\beta-\alpha]
			}{0}
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[-\alpha]}{\hat\phi^-[\beta]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[-\alpha]}
			\right\}
		\end{split}
	\end{equation*}
	where we used \Cref{thm:displacement_operator_product}.
	Using \Cref{thm:coherent_state_number_state_inner_product} with $n=0$ reveals
	\begin{equation*}
		\expval{\hat{D}[\beta-\alpha]}{0}
		=
		\braket{0}{-\alpha+\beta}
		=
		\exp\left\{
			-
			\frac{1}{2}
			\comm{\hat\phi^+[-\alpha+\beta]}{\hat\phi^-[-\alpha+\beta]}
		\right\}
	\end{equation*}
	and threfore
	\begin{equation*}
		\begin{split}
			\braket{\alpha}{\beta}
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[-\alpha+\beta]}{\hat\phi^-[-\alpha+\beta]}
				-
				\frac{1}{2}
				\comm{\hat\phi^+[-\alpha]}{\hat\phi^-[\beta]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[-\alpha]}
			\right\}
			\\
			&=
			\exp\biggl\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha]}
				\\
				&\ \ \ \ \ \ \ \ \ \
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
				+
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\alpha]}
			\biggr\}
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\alpha]}
				+
				\comm{\hat\phi^+[\alpha]}{\hat\phi^-[\beta]}
				-
				\frac{1}{2}
				\comm{\hat\phi^+[\beta]}{\hat\phi^-[\beta]}
			\right\}
			\\
			&=
			\exp\left\{
				-
				\frac{1}{2}
				\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
				\left\{
					\abs{\alpha(\vb{p})}^2
					+
					\abs{\beta(\vb{p})}^2
					-
					2\alpha(\vb{p})\beta(\vb{p})^*
				\right\}
			\right\}
			.
		\end{split}
	\end{equation*}
\end{delayedproof}

\section{Interactions}

\subsection{Dynamical pictures}

\begin{delayedproof}{thm:heisenberg_schroedinger_equivalence}
	Heisenberg and Schrödinger picture are unitarily equivalent by the Stone-von Neumann theorem.
	Let $\hat{O}^H(t)$ be an observable and $\ket{\psi}^H$ a state in the Heisenberg picture, then the expectation values agree
	\begin{equation*}
		\bra{\psi}^H
		\hat{O}^H(t)
		\ket{\psi}^H
		=
		\bra{\psi(0)}^H
		e^{+i\hat{H}t}
		\hat{O}^H(0)
		e^{-i\hat{H}t}
		\ket{\psi(0)}^H
		=
		\bra{\psi(t)}^S
		\hat{O}^S
		\ket{\psi(t)}^S
	\end{equation*}
	where we used \Cref{thm:heisenberg_eom_sol} and \Cref{thm:schroedinger_eom_sol}.
\end{delayedproof}
\begin{delayedproof}{thm:heisenberg_schroedinger_canonical_transformation}
	Let $\hat{A}^H,\hat{B}^H,\hat{C}^H$ be operators in the Heisenberg picture satisfying the commutation relation
	\begin{equation*}
		\comm{\hat{A}^H}{\hat{B}^H}
		=
		\hat{C}^H
	\end{equation*}
	then in the Schrödinger picture, we find
	\begin{equation*}
		\begin{split}
			\comm{\hat{A}^S}{\hat{B}^S}
			&=
			e^{-i\hat{H}t}
			\left\{
				\hat{A}^H
				e^{+i\hat{H}t}
				e^{-i\hat{H}t}
				\hat{B}^H
				-	
				\hat{B}^H
				e^{-i\hat{H}t}
				e^{+i\hat{H}t}
				\hat{A}^H
			\right\}
			e^{+i\hat{H}t}
			\\
			&=
			e^{-i\hat{H}t}
			\comm{\hat{A}^H}{\hat{B}^H}
			e^{+i\hat{H}t}
			\\
			&=
			e^{-i\hat{H}t}
			\hat{C}^H
			e^{+i\hat{H}t}
			=
			\hat{C}^S
		\end{split}
	\end{equation*}
	from Ref.~\cite[p.~213]{Greiner2013}.
\end{delayedproof}
\begin{delayedproof}{thm:dirac_schroedinger_eom}
	See Ref.~\cite[p.~214]{Greiner2013}.
\end{delayedproof}

\subsection{Time-evolution operator}

\begin{delayedproof}{thm:time_evolution_int}
	We integrate \cref{eq:time_evolution_diff} over the interval $[t_0,t]$
	\begin{equation*}
		\int_t^{t_0}\dd{t_1}
		\hat{H}_\text{int}^D(t_1,t_0)
		\hat{U}_D(t_1,t_0)
		=
		i\int_t^{t_0}\dd{t_1}
		\partial_{t_1}
		\hat{U}_D(t_1,t_0)
		=
		i\mathbb{I}
		-
		i\hat{U}_D(t,t_0)
	\end{equation*}
	where we used the fundamental theorem of calculus and the boundary condition $\hat{U}^D(t_0,t_0)=\mathbb{I}$ in the third line.
	We are left to rearrange the terms to find \cref{eq:time_evolution_int}.
\end{delayedproof}
\begin{delayedproof}{thm:time_evolution_exp_sol}
	Use \Cref{thm:time_ordered_integral} with $\hat{A}=\hat{H}_\text{int}^D$ to rewrite the iterative integral solution \Cref{thm:time_evolution_iter_sol}.
	A proof that \cref{eq:time_evolution_sol} satisfies \cref{eq:time_evolution_diff} can be found in Ref.~\cite[p.~219]{Greiner2013}.
\end{delayedproof}

\subsection{Displacement operator from classical source interaction}

\begin{delayedproof}{thm:displacement_scattering_operator_equivalence}
	The double integral evaluates to
	\begin{equation*}
		\iint\dd[4]{x}\dd[4]{y}
		J(x)
		D(x-y)
		J(y)
		=
		\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
		\abs{J(\vb{p})}^2
	\end{equation*}
	see Ref.~\cite[p.~26]{Zee2010}.
	Furthermore, decomposing the Klein-Gordon operator into positive and negative frequency parts
	\begin{equation*}
		\int\dd[4]{x}
		J(x)
		\hat\phi(x)
		=
		\int\dd[4]{x}
		J(x)
		\hat\phi^+(x)
		+
		\int\dd[4]{x}
		J(x)
		\hat\phi^-(x)
		=
		\hat\phi^+[J]
		+
		\hat\phi^-[J]
		,
	\end{equation*}
	we note that the second term is the hermitian conjugate of the first.
	Similar to what we did for the single-particle number state, we rewrite the integral using the Fourier transform of the source
	\begin{equation*}
		\begin{split}
			\hat\phi^+[J]
			=
			\int\dd[4]{x}
			J(x)
			\hat\phi^+(x)
			&=
			\int\dd[4]{x}
			J(x)
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			e^{-ip_\mu x^\mu}
			\hat{a}^\dagger(\vb{p})
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			\left(
				\int\dd[4]{x}
				J(x)
				e^{-ip_\mu x^\mu}
			\right)
			\hat{a}^\dagger(\vb{p})
			\\
			&=
			\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
			J(\vb{p})
			\hat{a}^\dagger(\vb{p})
		\end{split}
		.
	\end{equation*}
	We therefore find
	\begin{equation*}
		\begin{split}
			\hat{S}
			&=
			N\exp\left\{
				\hat\phi^+[iJ]
				-
				\hat\phi^-[iJ]
			\right\}
			\exp\left\{
				\int\dd[4]{x}\dd[4]{y}
				J(x)
				D(x-y)
				J(y)
			\right\}
			\\
			&=
			\exp\left\{
				-
				\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				iJ(\vb{p})
				\hat{a}^\dagger(\vb{p})
			\right\}
			\exp\left\{
				+
				\int\frac{\dd[3]{p}}{(2\pi)^3\sqrt{2\omega(\vb{p})}}
				iJ(\vb{p})
				\hat{a}^\dagger(\vb{p})
			\right\}
			\\
			&\times
			\exp\left\{
				-
				\frac{1}{2}
				\int\frac{\dd[3]{p}}{(2\pi)^32\omega(\vb{p})}
				\abs{J(\vb{p})}^2
			\right\}
			=
			\hat{D}[iJ]
		\end{split}
	\end{equation*}
	which shows that $\hat{S}=\hat{D}[iJ]$.
\end{delayedproof}

\section{Maxwell field in the Coulomb gauge}

\subsection{Lagrangian and gauge fixing}

\begin{delayedproof}{thm:mw_local_gauge_invariance}
	The physical field-strength tensor transforms under \cref{eq:mw_local_gauge_transform} as
	\begin{equation*}
		\begin{split}
			F_{\mu\nu}
			\to
			F_{\mu\nu}^\prime
			&=
			\partial_\mu\left(A_\nu+\partial_\nu\Lambda\right)
			-
			\partial_\nu\left(A_\mu+\partial_\mu\Lambda\right)
			\\
			&=
			F_{\mu\nu}
			+
			\partial_\mu\partial_\nu\Lambda
			-
			\partial_\nu\partial_\mu\Lambda
			=
			F_{\mu\nu}
		\end{split}
	\end{equation*}	
\end{delayedproof}
\begin{lemma}
	The field-strength tensor is antisymmetric $F^{\mu\nu}=-F^{\nu\mu}$.
\end{lemma}
\begin{proof}
	\begin{equation*}
		F^{\mu\nu}
		=
		\partial^\mu A^\nu
		-
		\partial^\nu A^\mu
		=
		-
		\left(
			\partial^\nu A^\mu
			-
			\partial^\mu A^\nu
		\right)
		=
		-
		F^{\nu\mu}
	\end{equation*}
\end{proof}

\subsection{Maxwell equations}

\begin{delayedproof}{thm:tensor_maxwell_equations}
	The inhomogeneous Maxwell equations are the equations of motion which are found from the Euler-Lagrange equation
	\begin{equation*}
		0
		=
		\partial_\mu
		\pdv{\mathcal{L}}{(\partial_\mu A_\nu)}
		-
		\pdv{\mathcal{L}}{A_\nu}
		=
		-
		\partial_\mu
		F^{\mu\nu}
		+
		J^\nu
	\end{equation*}
	where we used
	\begin{equation*}
		\begin{split}
			\pdv{\mathcal{L}}{(\partial_\mu A_\nu)}
			&=
			\pdv{\mathcal{L}}{F_{\alpha\beta}}
			\pdv{F_{\alpha\beta}}{(\partial_\mu A_\nu)}
			\\
			&=
			-
			\frac{1}{4}
			\pdv{(F_{\sigma\rho}F^{\sigma\rho})}{F_{\alpha\beta}}
			\pdv{(\partial_\alpha A_\beta-\partial_\beta A_\alpha)}{(\partial_\mu A_\nu)}
			\\
			&=
			-
			\frac{1}{2}
			F^{\alpha\beta}
			\left(
				\delta_\alpha^\mu
				\delta_\beta^\nu
				-
				\delta_\alpha^\nu
				\delta_\beta^\mu
			\right)
			\\
			&=
			-
			\frac{1}{2}
			F^{\mu\nu}
			+
			\frac{1}{2}
			F^{\nu\mu}
			=
			-
			F^{\mu\nu}			
		\end{split}
	\end{equation*}
	The homogeneous Maxwell equations are a consequence of the Bianchi identity and antisymmetry of $F^{\mu\nu}$.
\end{delayedproof}
\begin{delayedproof}{thm:vector_maxwell_equations}
	Evaluating the time component of \cref{eq:mw_homo_vec} yields the Gauss' law for magnetism
	\begin{equation*}
		\begin{split}
			0
			=
			\varepsilon_{0\lambda\mu\nu}\partial^\lambda F^{\mu\nu}
			&=
			\varepsilon_{0ijk}\partial^iF^{jk}
			\\
			&=
			-
			\varepsilon_{ijk}\varepsilon_{ljk}
			\partial^i B_l
			=
			2\partial_iB^i
		\end{split}
		\label{eq:mw_gauss_law_mag}
	\end{equation*}
	and the spatial component yields Ampere's circuit law
	\begin{equation*}
		\begin{split}
			0
			=
			\varepsilon_{i\lambda\mu\nu}
			\partial^\lambda
			F^{\mu\nu}
			&=
			-
			\varepsilon_{ijk}
			\varepsilon^{ljk}
			\partial_t B_l
			-
			2\varepsilon_{ijk}
			\partial^jE^k
			\\
			&=
			\partial_tB_i
			+
			\varepsilon_{ijk}
			\partial^jE_k
		\end{split}
		\label{eq:mw_ampere_law}.
	\end{equation*}
	The time component of the inhomogeneous covariant Maxwell equation \cref{eq:mw_inhomo} yields Gauss' law
	\begin{equation*}
		J^0
		=
		\rho
		=
		\partial_\mu F^{\mu\nu}
		=
		\partial_i E^i
		\label{eq:mw_gauss_law},
	\end{equation*}
	and the spatial component yields Faraday's law of induction
	\begin{equation*}
		J^i
		=
		\partial_\mu F^{\mu i}
		=
		-\partial_t E^i
		+\varepsilon^{ijk}\partial_j B_k
		\label{eq:mw_faraday_law}.
	\end{equation*}
	and we derived the vector Maxwell equations from first principles.
\end{delayedproof}