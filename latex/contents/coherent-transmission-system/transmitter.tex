\section{Transmitter}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

We introduced the transmitter as a component encoding a sequence of complex symbols, $\left\{\alpha_n\in\mathbb{C}\colon n\in I\right\}$, onto a coherent state $\ket{\alpha(t)}$.
Efficient transmission through the channel and effective receiver detection impose additional constraints on the space of useful coherent states.
Together with practical considerations, these constraints lead to the particular design embodiment of the transmitter we will discuss.

First and foremost, the channel and receiver limit the spectrum of useful coherent states.
For instance, the receiver has limited bandwidth to detect the signal with signal power outside that bandwidth being lost.
Apart from that, the physical channel only shows favorable transmission properties over a certain frequency range, outside the signal is strongly suppressed and distorted.\footnote{For instance, the C-band, spanning wavelengths from \SI{1530}{\nano\meter} to \SI{1565}{\nano\meter}, is widely deployed for optical telecommunication.}
Additionally, different users may jointly use the same physical channel, and using the available bandwidth efficiently while reducing interference between users, requires the signal bandwidth to be minimal.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/tikz/baseband-passband}
	\caption{Power spectrum showing the relationship between a real-valued baseband and passband signal. Both base- and passband signals have bandwidth $B$. The baseband signal is centered at $\omega=0$. The passband is shifted by $\omega_0$ and has a conjugate symmetric counterpart at $-\omega_0$.}\label{fig:baseband_passband}
\end{figure}
To illustrate the signal and channel bandwidth, we introduce the concept of baseband and passband signals\cite[p.~26]{Madhow2008}.
\Cref{fig:baseband_passband} depicts the power spectrum of a baseband and passband signal each with bandwidth $B$.
The spectrum of the baseband signal is centered at zero frequency, $\omega=0$, while the spectrum of the passband signal is located at $\pm\omega_0$.
For efficient use of the limited channel and receiver bandwidth, we want to minimize $B$ while keeping the \gls{snr} high.
In addition, we need to shift the baseband spectrum to an optical frequency $\omega_0$ for which the channel shows desirable transmission characteristics.
So from a signal processing point of view, we want the transmitter to
\begin{enumerate}
	\item first create a baseband signal with minimum bandwidth $B$ and
	\item then transfer it to a passband signal in the optical domain.
\end{enumerate}
In the following, we term the first step signal synthesis and the second step up-conversion.

Nowadays, the signal is almost exclusively constructed in the digital domain, and the analog part is limited to the digital-to-analog conversion.
Constructing the signal digitally allows for greater flexibility in the development process as the synthesis is mostly software-defined.
For up-conversion of the synthesized signal to the optical domain, we modulate the electric signal onto an optical carrier.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/tikz/software-defined-transmitter}
	\caption{Block diagram of the transmitter's signal processing domains. The \gls{dsp} transforms a complex symbol sequence $\{\alpha_n\}_{n\in I}$ into two digital signals, $x^\prime[m]$ and $p^\prime[m]$, corresponding to the real and imaginary part. The \gls{dac} converts the digital signals to analog signals, $x(t)$ and $p(t)$ we modulate onto a coherent state $\ket{\alpha(t)}$.}\label{fig:software_defined_transmitter}
\end{figure}
\Cref{fig:software_defined_transmitter} illustrates how such a software-defined transmitter architecture applies to our coherent state transmission system.
The software-defined \gls{dsp} constructs the bandwidth-optimized digital signals $x[m]$ and $p[m]$, encoding the real and imaginary parts of the complex symbols.
The \gls{dac} stage converts the digital signals, $x[m]$ and $p[m]$, to bandwidth-limited analog signals $x(t)$ and $p(t)$.
Finally, the analog signals are modulated onto an optical carrier yielding a coherent state $\ket{\alpha(t)}$ which meets the bandwidth requirements of the channel.

\subsection{Symbol encoding in baseband}

To construct a bandwidth-optimized baseband signal, encoding the complex symbol sequence $\{\alpha_n\in\mathbb{C}\colon n\in I\}$, we first remark that the symbol sequence itself has no notion of time.
In contrast, a digital (time-discrete) signal, consisting of discrete samples, includes a time reference, the sample period $T_s$, denoting the temporal distance between two consecutive samples.
By defining the digital signal with samples equal to the symbols, $\alpha[n]=\alpha_n$, and introducing the symbol period $T_s$ as sample period, we find ourselves with the complete \gls{dsp} toolbox at our disposal.\footnote{Even if the \gls{dsp} itself does not work explicitly with the time reference $T_s$, we need time to give a meaningful interpretation of the signal between the steps.}
\begin{figure}[htb]
	\centering
	\includegraphics{figures/circuitikz/baseband-construction}
	\caption{Block diagram of the signal-processing for baseband construction. The digital signal $x[km]$ is upsampled by a factor $k$ to $x^\prime[m]$ and pulse-shaped by a \gls{rrc} filter to yield $x^{\prime\prime}[m]$. A \gls{dac} converts the pulse-shaped signal $x^{\prime\prime}[m]$ to the analog signal $x^\prime(t)$. Finally, the analog signal $x^\prime(t)$ is \gls{lp} filtered to yield the analog anti-aliased signal $x(t)$.}\label{fig:baseband_construction}
\end{figure}
\Cref{fig:baseband_construction} summarizes the essential \gls{dsp} steps including analog conversion of a real-valued digital signal $x[km]$ to construct a bandwidth-optimized analog baseband signal $x(t)$.\footnote{The baseband construction generalizes to a complex digital signal by applying the real-valued baseband construction separately to the real and imaginary part.}
The digital signal $x[km]$, containing the symbols, is first upsampled by an upsampling factor of $k$, adding $k$ zero-valued samples in between the original samples.
The pulse-shaping of the \gls{rrc} filter interpolates between the non-zero samples, the symbols, to reduce the effective signal bandwidth.
Finally, a \gls{dac} converts the digital signal $x^{\prime\prime}[m]$ to the analog signal $x^\prime(t)$ through infinite upsampling.
The analog signal $x^\prime(t)$ contains infinite aliases through the upsampling, which we remove by filtering $x^\prime(t)$ with a \gls{lp}, yielding the anti-aliased analog signal $x(t)$.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/pgfplots/tx-unit-time}
	\caption{Baseband construction for a single unit symbol in the time domain. The symbol sequence $\{x_n\in\mathbb{R}\colon n\in I\}$ is represented by the digital signal $x[km]$ with sample period $T_s$ (first row). The digital signal $x[km]$ is upsampled to $x[m]$ by an upsampling factor of $k=2$ (second row). The upsampled signal $x[m]$ is pulse-shaped with a \gls{rrc} filter to yield $x^\prime[m]$ (third row). The pulse-shaped digital signal $x^\prime[m]$ is converted to the anti-aliased analog signal $x(t)$.}\label{fig:baseband_construction_unit_time}
\end{figure}
\Cref{fig:baseband_construction_unit_time} illustrates the time domain signals for each signal-processing step for a symbol sequence which contains only a single non-zero symbol with unit value.
We see very well how the upsampling increases the resolution of the digital signal in the time domain and how the pulse-shaping filter interpolates between the samples.
We also see that the pulse-shaping filter corresponds to a $\sinc$-like impulse response.
The similarity of the analog signal with a $\sinc$ pulse is not surprising since its \gls{rrc} square equals a rectangular filter with roll-off, i.e.,
\begin{equation}
	\abs{h_\text{rc}\left(f/f_s\right)}
	=
	\begin{cases}
		1 & \abs*{f/f_s}\leq(1-\alpha) \\
		\cos\left[\frac{\pi}{4\alpha}\left(\abs*{f/f_s}-1+\alpha\right)\right] & 1-\alpha\leq\abs*{f/f_s}\leq1+\alpha \\
		0 & \text{otherwise}
	\end{cases}
	,
\end{equation}
wherein $f_s=1/T_s$ is the symbol rate and $\alpha$ determines the roll-off.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/pgfplots/tx-rand-time}
	\caption{Baseband construction for a random \gls{qpsk} symbol sequence in the time domain. The real and imaginary part are colored orange respectively green. The complex symbol sequence $\{\alpha_n\in\mathbb{C}\colon n\in I\}$ is represented by the digital signal $\alpha[km]$ with sample period $T_s$ (first row). The digital signal $\alpha[km]$ is upsampled to $\alpha^\prime[m]$ by an upsampling factor of $k=2$ (second row). The upsampled signal $\alpha^\prime[m]$ is pulse-shaped with a \gls{rrc} filter to yield $\alpha^{\prime\prime}[m]$ (third row). The pulse-shaped digital signal $\alpha^{\prime\prime}[m]$ is converted to the anti-aliased analog signal $\alpha(t)$.}\label{fig:baseband_construction_rand_time}
\end{figure}
\Cref{fig:baseband_construction_rand_time} illustrates the time domain signals for each signal-processing step for a random \gls{qpsk} symbol sequence.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/pgfplots/tx-frequency}
	\caption{Baseband construction for a random \gls{qpsk} symbol sequence in the frequency domain. The power spectrum corresponding to the unit symbol sequence is colored orange, the \gls{qpsk} symbol sequence is colored green. Initially, the spectrum spans from $-1/2$ to $+1/2$ the normalized sampling frequency $f/f_s$ (first row). Upsampling by $k=2$ adds aliases left and right to the initial spectrum (second row). Pulse-shaping suppresses the left and ride flanks of the spectrum (third row). Analog conversion corresponds to infinite upsampling, adding infinite aliases left and right of the spectrum. (fourth row). Applying a \gls{lp} filter strongly suppresses the aliases (last row).}\label{fig:baseband_construction_freq}
\end{figure}
\Cref{fig:baseband_construction_freq} provides further inside into the signal-processing steps by presenting the power spectrum of the unit and \gls{qpsk} symbol sequences.
In the frequency domain, it is very clear to see how upsampling widens the spectrum without adding additional information.
We also see how the pulse-shaping filter shapes the upsampled spectrum, and the \gls{lp} filter suppresses aliases.

\FloatBarrier
\subsection{Up-conversion of baseband to passband}

We previously constructed the bandwidth-optimized baseband signals $x(t)$ and $p(t)$ encoding the real respective imaginary part of a complex symbol sequence $\{\alpha_n\in\mathbb{C}\colon n\in I\}$.
We now want to shift the spectrum of the baseband signals into the optical domain, i.e., transform the baseband to a passband signal centered around some optical carrier frequency $\omega_c$.
One way to shift a real signal in the frequency domain is to multiply it by a sine or cosine, effectively corresponding to amplitude modulation.
With the orthogonality of sine and cosine, it is possible to write two real baseband signals as one real passband signal, i.e.,
\begin{equation}
	x(t)
	\cos(\omega_ct)
	+
	p(t)
	\sin(\omega_ct)
	.
\end{equation}
Rewriting the sine as the real part of a complex exponential
\begin{equation}
	\sin(\omega_ct)
	=
	\cos(\omega_c t-\pi/2)
	=
	\Re\left\{e^{-i\omega_c t+i\pi/2}\right\}
	,
\end{equation}
we can rewrite the real passband signal as the real part of a complex signal,
\begin{equation}
	\begin{split}
		x(t)
		\cos(\omega_ct)
		+
		p(t)
		\sin(\omega_ct)
		&=
		\Re\left\{
			x(t)
			e^{-i\omega_ct}
			+
			p(t)
			e^{-i\omega_ct+i\pi/2}
		\right\}
		\\
		&=
		\Re\left\{
			\left[
				x(t)
				+
				ip(t)
			\right]
			e^{-i\omega_ct}
		\right\}
		,
	\end{split}
	\label{eq:real_complex_passband}
\end{equation}
where we can identify the complex baseband
\begin{equation}
	\alpha(t)
	=
	x(t)
	+
	ip(t)
	.
\end{equation}
The complex signal is often used when dealing with only a real signal since the up-conversion here corresponds to a simple multiplication by a complex exponent.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/circuitikz/up-conversion}
	\caption{Block diagram illustrating up-conversion of two real-valued baseband signals, $x(t)$ and $p(t)$, to a real-valued passband signal, $\Re\left\{\alpha(t)e^{-i\omega_ct}\right\}$. A \gls{lo} with up-conversion frequency $\omega_c$ is split into two branches with a relative phase shift between the branches of $\pi/2$. One branch is mixed with the baseband signal $p(t)$ and the other branch is mixed with $x(t)$. The product of the mixing is added giving the passband signal.}\label{fig:up_conversion}
\end{figure}
Our derivation of the complex passband, \cref{eq:real_complex_passband}, already hints implementing efficient up-conversion of two real baseband signals by splitting a \gls{lo} with a relative phase shift of $\pi/2$.
If we replace the mixer in \Cref{fig:up_conversion} with electro-optical amplitude modulators, e.g.,\gls{mzm}, we find ourselves with an electro-optical \gls{iqm}.
Indeed, if we assume a single-mode laser as an input state, we find that the \gls{iqm} produces the output state
\begin{equation}
	\ket{e^{-i\omega_c t}}
	\to
	\ket{\alpha(t)e^{-i\omega_c t}}
\end{equation}
exactly as we found for the up-conversion.