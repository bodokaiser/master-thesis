\section{Transmitter}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

We introduced the transmitter as a component encoding a sequence of complex symbols, $\left\{\alpha_n\in\mathbb{C}\colon n\in I\right\}$, onto a coherent state $\ket{\alpha(t)}$.
Efficient transmission through the channel and effective receiver detection impose additional constraints on the space of useful coherent states.
Together with practical considerations, these constraints lead to the particular design embodiment of the transmitter we will discuss.

First and foremost, the channel and receiver limit the spectrum of useful coherent states.
For instance, the receiver has limited bandwidth to detect the signal with signal power outside that bandwidth being lost.
Apart from that, the physical channel only shows favorable transmission properties over a certain frequency range, outside the signal is strongly suppressed and distorted.\footnote{For instance, the C-band, spanning wavelengths from \SI{1530}{\nano\meter} to \SI{1565}{\nano\meter}, is widely deployed for optical telecommunication.}
Additionally, different users may jointly use the same physical channel, and using the available bandwidth efficiently while reducing interference between users, requires the signal bandwidth to be minimal.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/tikz/up-conversion}
	\caption{Power spectrum illustrating up-conversion of a real-valued passband signal with bandwidth $B$ centered at $\omega_0$. Up-conversion by $\omega_c$ shifts the passband to $\omega_c+\omega_0$ and creates a mirror band at $\omega_c-\omega_0$.}\label{fig:up_conversion}
\end{figure}
To illustrate the signal and channel bandwidth, we introduce the concept of baseband and passband signals\cite[p.~26]{Madhow2008}.
\Cref{fig:up_conversion} depicts up-conversion of a real-valued baseband signal centered at $\omega_0$ with bandwidth $B$ by $\omega_c$.
If $\omega_0=0$, we would have a baseband instead of a passband signal.
For efficient use of the limited channel and receiver bandwidth, we want to minimize $B$ while keeping the \gls{snr} high.
In addition, we need to shift the baseband spectrum to an optical frequency $\omega_0$ for which the channel shows desirable transmission characteristics.
So from a signal processing point of view, we want the transmitter to
\begin{enumerate}
	\item first create a baseband signal with minimum bandwidth $B$ and
	\item then transfer it to a passband signal in the optical domain.
\end{enumerate}
In the following, we term the first step signal synthesis and the second step up-conversion.

Nowadays, the signal is almost exclusively constructed in the digital domain, and the analog part is limited to the digital-to-analog conversion.
Constructing the signal digitally allows for greater flexibility in the development process as the synthesis is mostly software-defined.
For up-conversion of the synthesized signal to the optical domain, we modulate the electric signal onto an optical carrier.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/tikz/software-defined-transmitter}
	\caption{Block diagram of the transmitter's signal processing domains. The \gls{dsp} transforms a complex symbol sequence $\{\alpha_n\}_{n\in I}$ into two digital signals, $x^\prime[m]$ and $p^\prime[m]$, corresponding to the real and imaginary part. The \gls{dac} converts the digital signals to analog signals, $x(t)$ and $p(t)$ we modulate onto a coherent state $\ket{\alpha(t)}$.}\label{fig:software_defined_transmitter}
\end{figure}
\Cref{fig:software_defined_transmitter} illustrates how such a software-defined transmitter architecture applies to our coherent state transmission system.
The software-defined \gls{dsp} constructs the bandwidth-optimized digital signals $x[m]$ and $p[m]$, encoding the real and imaginary parts of the complex symbols.
The \gls{dac} stage converts the digital signals, $x[m]$ and $p[m]$, to bandwidth-limited analog signals $x(t)$ and $p(t)$.
Finally, the analog signals are modulated onto an optical carrier yielding a coherent state $\ket{\alpha(t)}$ which meets the bandwidth requirements of the channel.

\subsection{Symbol encoding}

To construct a bandwidth-optimized baseband signal, encoding the complex symbol sequence $\{\alpha_n\in\mathbb{C}\colon n\in I\}$, we first remark that the symbol sequence itself has no notion of time.
In contrast, a digital (time-discrete) signal, consisting of discrete samples, includes a time reference, the sample period $T_s$, denoting the temporal distance between two consecutive samples.
By defining the digital signal with samples equal to the symbols, $\alpha[n]=\alpha_n$, and introducing the symbol period $T_s$ as sample period, we find ourselves with the complete \gls{dsp} toolbox at our disposal.\footnote{Even if the \gls{dsp} itself does not work explicitly with the time reference $T_s$, we need time to give a meaningful interpretation of the signal between the steps.}
\begin{figure}[htb]
	\centering
	\includegraphics{figures/circuitikz/symbol-encoding}
	\caption{Block diagram of the signal-processing for baseband construction. The digital signal $x[km]$ is upsampled by a factor $k$ to $r[m]$ and pulse-shaped by a \gls{rrc} filter to yield $q[m]$. A \gls{dac} converts the pulse-shaped signal $q[m]$ to the analog signal $q(t)$. Finally, the analog signal $q(t)$ is \gls{lp} filtered to yield the analog anti-aliased signal $x(t)$.}\label{fig:symbol_encoding}
\end{figure}
\Cref{fig:symbol_encoding} summarizes the essential \gls{dsp} steps including analog conversion of a real-valued digital signal $x[km]$ to construct a bandwidth-optimized analog baseband signal $x(t)$.\footnote{The baseband construction generalizes to a complex digital signal by applying the real-valued baseband construction separately to the real and imaginary part.}
The digital signal $x[km]$, containing the symbols, is first upsampled by an upsampling factor of $k$, adding $k$ zero-valued samples in between the original samples.
The pulse-shaping of the \gls{rrc} filter interpolates between the non-zero samples, the symbols, to reduce the effective signal bandwidth.
Finally, an ideal \gls{dac} converts the digital signal $q[m]$ to the analog signal $q(t)$, equivalent to infinite upsampling.
The analog signal $q(t)$ contains infinite aliases through the upsampling, which we remove by filtering $q(t)$ with a \gls{lp}, yielding the anti-aliased analog signal $x(t)$.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/pgfplots/symbol-encoding-time-unit}
	\caption{Baseband construction for a single unit symbol in the time domain. The symbol sequence $\{x_n\in\mathbb{R}\colon n\in I\}$ is represented by the digital signal $x[km]$ with sample period $T_s$ (first row). The digital signal $x[km]$ is upsampled to $r[m]$ by an upsampling factor of $k=2$ (second row). The upsampled signal $r[m]$ is pulse-shaped with a \gls{rrc} filter to yield $q[m]$ (third row). The pulse-shaped digital signal $q[m]$ is converted to the anti-aliased analog signal $x(t)$.}\label{fig:baseband_construction_unit_time}
\end{figure}
\Cref{fig:baseband_construction_unit_time} illustrates the time domain signals for each signal-processing step for a symbol sequence which contains only a single non-zero symbol with unit value.
We see very well how the upsampling increases the resolution of the digital signal in the time domain and how the pulse-shaping filter interpolates between the samples.
We also see that the pulse-shaping filter corresponds to a $\sinc$-like impulse response.
The similarity of the analog signal with a $\sinc$ pulse is not surprising since the \gls{rrc} is the square-root of the raised-cosine filter.
The raised-cosine filter has frequency response
\begin{equation}
	\abs{h_\text{rc}\left(f/f_s\right)}
	=
	\begin{cases}
		1 & \abs*{f/f_s}\leq(1-\alpha) \\
		\cos\left[\frac{\pi}{4\alpha}\left(\abs*{f/f_s}-1+\alpha\right)\right] & 1-\alpha\leq\abs*{f/f_s}\leq1+\alpha \\
		0 & \text{otherwise}
	\end{cases}
	,
\end{equation}
wherein $f_s=1/T_s$ is the symbol rate and $\alpha$ determines the roll-off and satisfies the Nyquist criterion for optimal bandwidth~\cite[p.~51]{Madhow2008}.
Taking the square-root of the raised-cosine pulse-shaping filter and applying it once on the transmitter-side and once on the receiver-side, where it is named the matched filter, also satisfies the Nyquist but yields better performance for typical noisy channels.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/pgfplots/symbol-encoding-time-qpsk}
	\caption{Baseband construction for a random \gls{qpsk} symbol sequence in the time domain. The real and imaginary part are colored orange respectively green. The complex symbol sequence $\{\alpha_n\in\mathbb{C}\colon n\in I\}$ is represented by the digital signal $\alpha[km]$ with sample period $T_s$ (first row). The digital signal $\alpha[km]$ is upsampled to $\rho[m]$ by an upsampling factor of $k=2$ (second row). The upsampled signal $\rho[m]$ is pulse-shaped with a \gls{rrc} filter to yield $\gamma[m]$ (third row). The pulse-shaped digital signal $\gamma[m]$ is converted to the anti-aliased analog signal $\alpha(t)$.}\label{fig:baseband_construction_rand_time}
\end{figure}
\Cref{fig:baseband_construction_rand_time} illustrates the time domain signals for each signal-processing step for a random \gls{qpsk} symbol sequence.
\begin{figure}[htb]
	\centering
	\includegraphics{figures/pgfplots/symbol-encoding-frequency}
	\caption{Power spectrum of the symbol encoding steps for a random \gls{qpsk} symbol sequence (green) and the unit symbol sequence (orange). The initial spectrum spans from $-1/2$ to $+1/2$ the normalized sampling frequency $f/f_s$ (first row). Upsampling by $k=2$ adds aliases left and right to the initial spectrum (second row). Pulse-shaping suppresses the left and ride flanks of the spectrum (third row). Analog conversion corresponds to infinite upsampling, adding infinite aliases left and right of the spectrum. (fourth row). Applying a \gls{lp} filter strongly suppresses the aliases (last row).}\label{fig:baseband_construction_freq}
\end{figure}
\Cref{fig:baseband_construction_freq} provides further inside into the signal-processing steps by presenting the power spectrum of the unit and \gls{qpsk} symbol sequences.
In the frequency domain, it is very clear to see how upsampling widens the spectrum without adding additional information.
We also see how the pulse-shaping filter shapes the upsampled spectrum, and the \gls{lp} filter suppresses aliases.

\FloatBarrier
\subsection{Dual quadrature up-conversion}

We previously constructed the bandwidth-optimized baseband signals $x(t)$ and $p(t)$ encoding the real respective imaginary part of a complex symbol sequence $\{\alpha_n\in\mathbb{C}\colon n\in I\}$.
We now want to shift the spectrum of the baseband signals into the optical domain, i.e., transform the baseband to a passband signal centered around some optical carrier frequency $\omega_c$.
One way to shift a real signal in the frequency domain is to multiply it by a sine or cosine, i.e., amplitude modulation of the carrier signal.
With the orthogonality of sine and cosine, it is possible to write two real baseband signals as one real passband signal, i.e.,
\begin{equation}
	s(t)
	=
	x(t)
	\cos(\omega_ct)
	+
	p(t)
	\sin(\omega_ct)
	.
\end{equation}
Introducing the complex baseband signal,
\begin{equation}
	\alpha(t)
	=
	x(t)
	+
	ip(t)
	,
\end{equation}
we can write the passband signal as the real part of the complex baseband multiplied with a complex exponential
\begin{equation}
	s(t)
	=
	\Re\left\{
		\alpha(t)
		e^{-i\omega_ct}
	\right\}
	.
	\label{eq:real_complex_passband}
\end{equation}
One advantage of describing a real by a complex signal is the simpler handling of the complex exponential function compared to the trigonometric functions.\footnote{However, one should always keep in mind that all physical signals are indeed real.}
\begin{figure}[htb]
	\centering
	\includegraphics{figures/circuitikz/up-conversion}
	\caption{Block diagram illustrating up-conversion of two real-valued baseband signals, $x(t)$ and $p(t)$, to a real-valued passband signal $s(t)$. A \gls{lo} running at the up-conversion frequency is split into two branches with a relative phase shift between the branches of $\pi/2$. One branch is mixed with the baseband signal $x(t)$, the other is mixed with $p(t)$. The product of the mixing adds up to the passband signal $s(t)$.}\label{fig:up_conversion}
\end{figure}
Another advantage of the complex representation is that the coherent states also use it.
Indeed, if we identify the mixers in the up-conversion diagram, \cref{fig:up_conversion}, with \gls{mzm}s, we find ourselves with the electro-optical \gls{iqm} for which we already derived the coherent state transform, \cref{eq:iqm_modulation}.
Identifying the input coherent state of the \gls{iqm} with an ideal single-mode laser with complex signal $e^{-i\omega_ct}$, we find
\begin{equation}
	\hat{U}_\text{IQM}[\alpha(t)]
	\ket{e^{-i\omega_ct}}
	=
	\ket{\alpha(t)e^{-i\omega_ct}}
	,
\end{equation}
i.e., the \gls{iqm} is an up-converter from the electrical to the (quantum) optical domain.