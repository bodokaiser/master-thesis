\section{Coupler}

An optical coupler is a passive component with two optical in- and outputs, generally assumed to be \gls{lti}, which appears in almost every optical setup or as a building block of ore complex components.\footnote{The optical splitter is a special case of the optical coupler where one of the two optical inputs is zero, or, more precisely, the vacuum state.}

In the following, we would like to illuminate the versatile aspects of the optical coupler.
We begin our investigation with the beam splitter, implementing an optical coupler and splitter, considering its reflection and transmission properties~\cite{Gerry2005,Vogel2006}.
Subsequently, we examine the waveguide coupler, which offers an alternative approach using an interaction Hamiltonian~\cite{Haroche2006}.
Finally, we provide a third entry point using a unitary transformation to transform the displacement operator yielding input-output relations for coherent states and discuss applications as a spectral filter~\cite{Leonhard2010,Vogel2006}.

\subsection{Beam splitter}

The most commonly employed designs of the beam splitter are the cubic, plate, and pellicle beam splitters, see \Cref{fig:beam_splitter_types}.
\begin{figure}[htb]
    \centering
    \includegraphics{figures/tikz/beam-splitter-types}
    \caption{Different types of free-ray beam splitters. (a) Cubic beam splitter made of two triangular prisms glued at their base (grey). (b) Plate beam splitter made of a dielectric plate. (c) Pellicle beam splitter made from a thin membrane.}\label{fig:beam_splitter_types}
\end{figure}
The cubic beam splitter is made of two triangular prisms.
The interface between the two prisms is finished with a dielectric coating.
The outward-facing surface of the prisms is grafted with an \gls{ar} coating.\footnote{The incident angle of the electric field is perpendicular to the surface of the cubic beam splitter. As the reflection angle is equal to the incidence angle, we have back-reflection of the input fields.}
he pellicle beam splitter consists of a few micrometer thin membrane, optionally with a one-sided coating.
The plate beam splitter is like a thick pellicle beam splitter made of glass.

To deduce the relation between the in- and output fields, we sequentially couple a laser pulse into each input while monitoring both outputs with a spectrum analyzer, see \Cref{fig:beam_splitter_inputs_outputs}.
Assuming the beam splitter to be an \gls{lti} system, knowing the spectral shape of the laser pulse lets us infer the frequency responses of the beam splitter.
\begin{figure}[htb]
    \centering
    \includegraphics{figures/tikz/beam-splitter-cubic-plate}
    \caption{Cubic (left) and plate beam splitter (right) with the two input fields, $\hat{E}_1(\omega)$ and $\hat{E}_2(\omega)$, and two output fields, $\hat{E}_1^\prime(\omega)$ and $\hat{E}_2^\prime(\omega)$, labelled by the momentum representation of the electric field operators.}\label{fig:beam_splitter_inputs_outputs}
\end{figure}
Invoking the superposition principle for electromagnetic waves, we find the frequency responses of the beam splitter to relate the electric fields by
\begin{equation}
    \begin{pmatrix}
        \expval{\hat{E}_1^\prime(\omega)} \\
        \expval{\hat{E}_2^\prime(\omega)}
    \end{pmatrix}
    =
    \begin{pmatrix}
        t(\omega) & r^\prime(\omega)
        \\
        r(\omega) & t^\prime(\omega)
    \end{pmatrix}
    \begin{pmatrix}
		\expval{\hat{E}_1(\omega)} \\
        \expval{\hat{E}_2(\omega)}
    \end{pmatrix}
    \label{eq:beam_splitter_expval}
\end{equation}
wherein $r(\omega),r^\prime(\omega)$ and $t(\omega),t^\prime(\omega)$ are the complex reflection respective transmission coefficients.
The absolute values of the transmission, $\abs{t(\omega)}$ and $\abs{t^\prime(\omega)}$, and reflection coefficients, $\abs{r(\omega)}$ and $\abs{r^\prime(\omega)}$, determine the splitting ratio of the input power among the outputs.
The complex phase factor of the reflection and transmission coefficients characterizes the phase shifts the output fields concerning the input fields.
The beam splitter is a passive device implying the output energy to be bound by the input energy
\begin{equation}
    \abs{\expval{\hat{E}_1^\prime(\omega)}}^2
    +
    \abs{\expval{\hat{E}_2^\prime(\omega)}}^2
    \leq
    \abs{\expval{\hat{E}_1(\omega)}}^2
    +
    \abs{\expval{\hat{E}_2(\omega)}}^2
    \label{eq:beam_splitter_passive}
    ,
\end{equation}
or equivalently, constraining the reflection and transmission coefficients by
\begin{align}
    \abs{r(\omega)}^2+\abs{t(\omega)}^2
    &\leq
    1,
    &
    \abs{r^\prime(\omega)}^2+\abs{t^\prime(\omega)}^2
    &\leq
    1
    \label{eq:beam_splitter_coefficients_constraint}
    .
\end{align}
The equality of these inequalities is only true for lossless devices for which there is no back-scattering.\footnote{Using an optical circulator it is in principle possible to measure all \num{16} scattering parameters.}
Sometimes, one finds the claim~\cite[p.~129]{Haroche2006} that the matrix transformation in \cref{eq:beam_splitter_expval} is required to be symmetric (or reciprocal) due to Maxwell's equations.
However, only optical systems with a single dielectric layer are reciprocal~\cite{Potton2004}, but most physical beam splitters comprise multiple dielectric layers.\footnote{For example, cubic beam splitters typically have a coating followed by optical cement between the prisms breaking reciprocal symmetry of the system.}
It is possible to derive exact expressions of the complex reflection, $r(\omega),r^\prime(\omega)$, and transmission coefficients, $t(\omega),t^\prime(\omega)$ using classical wave optics and perfect knowledge of the dimensions and material properties.
For example, HÃ©nault~\cite{Henault2015} derived an exact expression for the reflected and transmitted amplitudes of a plate beam splitter with one input and a single dielectric layer.
Likewise, Hamilton~\cite{Hamilton2000} discusses the cubic beam splitter with two inputs and different coatings.
In general, the complex reflection and transmission coefficients need to account for multiple reflections at different dielectric layers inside the beam splitter.

Inserting the mode expansion of the electric field operators, \cref{eq:electric_operator,eq:electric_negative_operator,eq:electric_positive_operator}, and using the linearity of the device and the expectation value, we recover the transformation for the annihilation operators, sometimes referred to as quantum modes,
\begin{equation}
    \begin{pmatrix}
        \hat{a}_1^\prime(\omega) \\
        \hat{a}_2^\prime(\omega)
    \end{pmatrix}
    =
    \begin{pmatrix}
        t(\omega) & r^\prime(\omega)
        \\
        r(\omega) & t^\prime(\omega)
    \end{pmatrix}
    \begin{pmatrix}
        \hat{a}_1(\omega) \\
        \hat{a}_2(\omega)
    \end{pmatrix}
    \label{eq:beam_splitter_annihilation}
\end{equation}
in agreement with Refs.~\cite{Leonhardt2010,Gerry2005}.

\subsection{Waveguide coupler}

Contrary to the direct coupling in free-ray beam splitters, a fiber or waveguide coupler uses indirect coupling through the evanescent field.
The evanescent field of an electromagnetic field does not propagate but decays exponentially.
We often observe evanescent fields at the boundary of waveguiding structures.
One must bring the waveguides in proximity for the evanescent fields of two waveguided modes to couple efficiently.
The range where the waveguides are close is the interaction length $l$, see \Cref{fig:waveguide_coupler}.
Over the interaction length, the two energy of the field modes oscillates back and forth between the two waveguides.
\begin{figure}[htb]
    \centering
    \includegraphics{figures/tikz/waveguide-coupler}
    \caption{Waveguide coupler with input quantum modes $\hat{a}_1(\omega)$ and $\hat{a}_2(\omega)$ coupled evanescent over an interaction length $l$ yielding the output quantum modes $\hat{a}_1^\prime(\omega)$ and $\hat{a}_2^\prime(\omega)$.}\label{fig:waveguide_coupler}
\end{figure}
The weak coupling through evanescent fields is conceptionally similar to weakly coupled harmonic oscillators.
Haroche~\cite[p.~131]{Haroche2006} successfully exploits the analogy to derive the quantum beam splitter transform from interaction theory.
We generalize his approach for the mode continuum derived in the previous chapter.

Let $\hat{a}_1(\omega)$ and $\hat{a}_2(\omega)$ be the annihilation operators of the first and second waveguide modes.
The interaction Hamiltonian
\begin{equation}
	\hat{H}_\text{int}
	=
	-
	\int\frac{\dd{\omega}}{2\pi}
	\left\{
		g(\omega)
		\hat{a}_1(\omega)
		\hat{a}_2^\dagger(\omega)
		+
		g^*(\omega)
		\hat{a}_1^\dagger(\omega)
		\hat{a}_2(\omega)
	\right\}
	,
\end{equation}
wherein $g(\omega)$ is a complex-valued coupling parameter encoding the material and geometry of the coupler, describes the transitions of excitations between the first and the second mode.
As the interaction Hamiltonian is time-independent, all but the first term in the Magnus expansion vanish, and the time evolution operator is
\begin{equation}
	\hat{U}_\text{int}
	=
	\exp\left\{
		i
		\int\dd{t^\prime}
		\int\frac{\dd{\omega}}{2\pi}
		\left\{
			g(\omega)
			\hat{a}_1(\omega)
			\hat{a}_2^\dagger(\omega)
			+
			g^*(\omega)
			\hat{a}_1^\dagger(\omega)
			\hat{a}_2(\omega)
		\right\}
	\right\}
\end{equation}
wherein the time integration is over the duration of the interaction.
Assuming the interaction to be limited to the interaction length $l$, the interaction duration $T$ is approximately equal to the interaction length $l$ divided by the group velocity $v_g(\omega)$.
The group velocity depends on the materials of the coupler, suggesting redefining the coupling parameter to include the different interaction durations, i.e.,
\begin{equation}
	\hat{U}_\text{int}
	=
	\exp\left\{
		i
		\int\frac{\dd{\omega}}{2\pi}
		\theta(\omega)
		\left\{
			\hat{a}_1(\omega)
			\hat{a}_2^\dagger(\omega)
			e^{-i\varphi(\omega)}
			+
			\hat{a}_1^\dagger(\omega)
			\hat{a}_2(\omega)
			e^{+i\varphi(\omega)}
		\right\}
	\right\}
\end{equation}
where the real-valued couplings $\theta(\omega)$ and $\varphi(\omega)$ implicitly depend on the materials and geometry of the waveguide coupler and the interaction length $l$.
We define the generator
\begin{equation}
	\hat{G}
	=
	-i
	\int\frac{\dd{\omega}}{2\pi}
	\theta(\omega)
	\left\{
		\hat{a}_1(\omega)
		\hat{a}_2^\dagger(\omega)
		e^{-i\varphi(\omega)}
		+
		\hat{a}_1^\dagger(\omega)
		\hat{a}_2(\omega)
		e^{+i\varphi(\omega)}
	\right\}
\end{equation}
and calculate the commutator of the generator with the annihilation operators
\begin{align}
	\comm{\hat{G}}{\hat{a}_1(\omega)}
	&=
	i
	\theta(\omega)
	\hat{a}_2(\omega)
	e^{+i\varphi(\omega)}
	&
	\comm{\hat{G}}{\hat{a}_2(\omega)}
	&=
	i
	\theta(\omega)
	\hat{a}_1(\omega)
	e^{-i\varphi(\omega)}
	.
\end{align}
The transformed annihilation operators turn out to be\footnote{Strictly speaking, the annihilation operators in the interaction picture have an additional factor $e^{-i\omega t}$.},
\begin{equation}
	\begin{split}
		\hat{a}_1^\prime(\omega)
		&=
		\hat{U}_\text{int}^\dagger
		\hat{a}_1(\omega)
		\hat{U}_\text{int}
		=
		e^{+\hat{G}}
		\hat{a}_1(\omega)
		e^{-\hat{G}}
		\\
		&=
		\hat{a}_1
		+
		\comm{\hat{G}}{\hat{a}_1}
		+
		\frac{1}{2!}
		\comm{\hat{G}}{\comm{\hat{G}}{\hat{a}_1}}
		+
		\frac{1}{3!}
		\comm{\hat{G}}{\comm{\hat{G}}{\comm{\hat{G}}{\hat{a}_1}}}
		+
		\dots
		\\
		&=
		\hat{a}_1(\omega)
		+
		i\theta(\omega)
		\hat{a}_2(\omega)
		e^{+i\varphi(\omega)}
		+
		\frac{1}{2!}
		\left(i\theta(\omega)\right)^2
		\hat{a}_1(\omega)
		+
		\frac{1}{3!}
		\left(i\theta(\omega)\right)^3
		\hat{a}_2(\omega)
		e^{+i\varphi(\omega)}
		+
		\dots
		\\
		&=
		\cos\theta(\omega)
		\hat{a}_1(\omega)
		+
		i\sin\theta(\omega)
		\hat{a}_2(\omega)
		e^{+i\varphi(\omega)}
	\end{split}
\end{equation}
and
\begin{equation}
	\begin{split}
		\hat{a}_2^\prime(\omega)
		&=
		\hat{U}_\text{int}^\dagger
		\hat{a}_2(\omega)
		\hat{U}_\text{int}
		=
		e^{+\hat{G}}
		\hat{a}_2(\omega)
		e^{-\hat{G}}
		\\
		&=
		\hat{a}_2
		+
		\comm{\hat{G}}{\hat{a}_2}
		+
		\frac{1}{2!}
		\comm{\hat{G}}{\comm{\hat{G}}{\hat{a}_2}}
		+
		\frac{1}{3!}
		\comm{\hat{G}}{\comm{\hat{G}}{\comm{\hat{G}}{\hat{a}_2}}}
		+
		\dots
		\\
		&=
		\hat{a}_2(\omega)
		+
		i\theta(\omega)
		\hat{a}_1(\omega)
		e^{-i\varphi(\omega)}
		+
		\frac{1}{2!}
		\left(i\theta(\omega)\right)^2
		\hat{a}_2(\omega)
		+
		\frac{1}{3!}
		\left(i\theta(\omega)\right)^3
		\hat{a}_1(\omega)
		e^{-i\varphi(\omega)}
		+
		\dots
		\\
		&=
		\cos\theta(\omega)
		\hat{a}_2(\omega)
		+
		i\sin\theta(\omega)
		\hat{a}_1(\omega)
		e^{-i\varphi(\omega)}
		,
	\end{split}
\end{equation}
where we used a kind of \gls{bch} formula, in agreement with Ref.~\cite[p.~131]{Haroche2006}.
In matrix notation, the transformation of the annihilation operators reads
\begin{equation}
	\begin{pmatrix}
        \hat{a}_1^\prime(\omega) \\
        \hat{a}_2^\prime(\omega)
    \end{pmatrix}
    =
    U(\omega)
    \begin{pmatrix}
        \hat{a}_1(\omega) \\
        \hat{a}_2(\omega)
    \end{pmatrix}
    =
    \begin{pmatrix}
        \cos\theta(\omega) & i\sin\theta(\omega)e^{+i\varphi} 
        \\
        i\sin\theta(\omega)e^{-i\varphi} & \cos\theta(\omega)
    \end{pmatrix}
    \begin{pmatrix}
        \hat{a}_1(\omega) \\
        \hat{a}_2(\omega)
    \end{pmatrix}
    \label{eq:waveguide_coupler_transformation}
    .
\end{equation}
Comparison of the annihilation operator transformation for the waveguide coupler, \cref{eq:waveguide_coupler_transformation}, and the beam splitter, \cref{eq:beam_splitter_annihilation}, our waveguide result implies lossless coupling.
Lossless coupling is essential for the transformed annihilation operators to satisfy the \gls{ccr}~\cite[p.~38]{Gerry2005}.
Modeling an absorbing coupler requires four quantum modes, two annihilation operators for the field, and two for a bosonic reservoir, see Ref.~\cite[p.~210]{Vogel2006} for details.

\subsection{Unitary operator transform}

The derived transforms of the free-ray beam splitter and the fiber or waveguide coupler, \cref{eq:waveguide_coupler_transformation,eq:beam_splitter_annihilation}, have in common that they are two-dimensional unitary matrices, which is not surprising since a unitary matrix transform conserves energy.
The optical coupler transform being linear and unitary is not surprising since the coupler is a linear passive device, which we further assumed to be lossless.
It presents itself to take the unitary matrix transform as the defining property of an ideal optical coupler.

A general decomposition of a two-dimensional unitary matrix is the product~\cite[p.~95]{Leonhardt2010}
\begin{equation}
	U(\omega)
	=
	\begin{pmatrix}
		e^{+i\Phi/2} & 0 \\
		0 & e^{-i\Phi/2}
	\end{pmatrix}
	\begin{pmatrix}
		\cos(\Theta/2) & \sin(\Theta/2) \\
		-\sin(\Theta/2) & \cos(\Theta/2)
	\end{pmatrix}
	\begin{pmatrix}
		e^{+i\Psi/2} & 0 \\
		0 & e^{-i\Psi/2}
	\end{pmatrix}
	e^{i\Lambda/2}
	\label{eq:unitary_matrix}
\end{equation}
wherein we suppress the frequency-dependence of the real parameters, $\Lambda(\omega),\Theta(\omega),\Psi(\omega),\Phi(\omega)$, for clarity.
We can read the matrix decomposition, \cref{eq:unitary_matrix}, as first adding a global phase shift $\Lambda/2$, then adding a relative phase shift of $\Psi$ between the incident fields, rotating (mixing) the field amplitudes by the angle $\Theta/2$, and adding another relative phase shift of $\Psi$ between the outgoing fields.

While the unitary matrix transforms the annihilation operators and the field amplitudes, it cannot transform a generic quantum state.
In the previous subsection, we found a time evolution operator $\hat{U}$ from linear mode coupling theory, which related to the unitary matrix transform $U$ via
\begin{equation}
	U(\omega)
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	=
	\begin{pmatrix}
		\hat{a}_1^\prime(\omega) \\
		\hat{a}_2^\prime(\omega)
	\end{pmatrix}
	=
	\begin{pmatrix}
		\hat{U}^\dagger\hat{a}_1(\omega)\hat{U} \\
		\hat{U}^\dagger\hat{a}_2(\omega)\hat{U}
	\end{pmatrix}
	=
	\hat{U}^\dagger
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	\hat{U}
	\label{eq:unitary_matrix_operator}
	.
\end{equation}
The unitary operators corresponding to the unitary matrix decomposition in \cref{eq:unitary_matrix} are the Jordan-Schwinger operators\footnote{Generalized to a frequency continuum from Ref.~\cite[p.~97]{Leonhardt2010}.}
\begin{align}
	\hat{L}_t
	&=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}^\dagger
	\mathbb{1}_2
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\left(
		\hat{a}_1^\dagger(\omega)
		\hat{a}_1(\omega)
		+
		\hat{a}_2^\dagger(\omega)
		\hat{a}_2(\omega)
	\right)
	\\
	\hat{L}_x
	&=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}^\dagger
	\sigma_x
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\left(
		\hat{a}_1^\dagger(\omega)
		\hat{a}_2(\omega)
		+
		\hat{a}_2^\dagger(\omega)
		\hat{a}_1(\omega)
	\right)
	\\
	\hat{L}_y
	&=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}^\dagger
	\sigma_y
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	=
	\frac{i}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\left(
		\hat{a}_2^\dagger(\omega)
		\hat{a}_1(\omega)
		-
		\hat{a}_1^\dagger(\omega)
		\hat{a}_2(\omega)
	\right)
	\\
	\hat{L}_z
	&=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}^\dagger
	\sigma_z
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	=
	\frac{1}{2}
	\int\frac{\dd{\omega}}{2\pi}
	\left(
		\hat{a}_1^\dagger(\omega)
		\hat{a}_1(\omega)
		-
		\hat{a}_2^\dagger(\omega)
		\hat{a}_2(\omega)
	\right)
\end{align}
where $\sigma_1,\sigma_2,\sigma_3$ denote the two-dimensional Pauli matrices.
The Jordan-Schwinger operators satisfy the angular-momentum commutation algebra~\cite[p.~97]{Leonhardt2010}
\begin{align}
	\comm{\hat{L}_i}{\hat{L}_j}
	&=
	i\varepsilon_{ijk}\hat{L}^k
	&
	\comm{\hat{L}_t}{\hat{L}_i}
	&=
	0
\end{align}
and act as generator for the individual components of the matrix decomposition in \cref{eq:unitary_matrix}.
The generator of the unitary matrix, \cref{eq:unitary_matrix}, is
\begin{equation}
	\hat{U}
	=
	e^{i\Lambda\hat{L}_t}
	e^{i\Phi\hat{L}_z}
	e^{i\Theta\hat{L}_y}
	e^{i\Psi\hat{L}_z}
	\label{eq:unitary_operator}
	.
\end{equation}
The inverse of the unitary operator, \cref{eq:unitary_operator}, can be written
\begin{equation}
	\begin{split}
		\hat{U}(\Lambda,\Phi,\Theta,\Psi)^\dagger
		&=
		e^{-i\Psi\hat{L}_z}
		e^{-i\Theta\hat{L}_y}
		e^{-i\Phi\hat{L}_z}
		e^{-i\Lambda\hat{L}_t}
		\\
		&=
		e^{-i\Lambda\hat{L}_t}
		e^{-i\Psi\hat{L}_z}
		e^{-i\Theta\hat{L}_y}
		e^{-i\Phi\hat{L}_z}
		\\
		&=
		\hat{U}(-\Lambda,-\Psi,-\Theta,-\Phi)
		,
	\end{split}
	\label{eq:unitary_operator_inverse}
\end{equation}
where we used that $\hat{L}_t$ commutes with the other Jordan-Schwinger operators, and can be used to find the reversed transform,
\begin{equation}
	\hat{U}
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	\hat{U}^\dagger
	=
	U(\omega)^\dagger
	\begin{pmatrix}
		\hat{a}_1(\omega) \\
		\hat{a}_2(\omega)
	\end{pmatrix}
	\label{eq:unitary_matrix_operator_reverse}
	,
\end{equation}
 of the annihilation operators.

\subsection{Coherent state transform}

Let us now consider the action of the ideal coupler on the tensor product of coherent input states\footnote{Other quantum states typically produce entangled output states, see, for instance, Ref.~\cite{Windhager2011}, which is not of interest here.}
\begin{equation}
	\ket*{\vb{\alpha}(t)}
	=
	\ket*{\alpha_1(t),\alpha_2(t)}
	.
\end{equation}
The output states are given by applying the unitary evolution operator $\hat{U}$, e.g., \cref{eq:unitary_operator}, onto the input state
\begin{equation}
	\hat{U}
	\ket*{\vb{\alpha}(t)}
	=
	\hat{U}
	\hat{D}\left[\vb{\alpha}(t)\right]
	\hat{U}^\dagger
	\hat{U}
	\ket*{0,0}
	=
	\hat{U}
	\hat{D}\left[\vb{\alpha}(t)\right]
	\hat{U}^\dagger
	\vacket
	,
\end{equation}
wherein we inserted $\mathbb{1}=\hat{U}^\dagger\hat{U}$ in the second step and we used the invariance of the vacuum state in the third step.
The transformed displacement operator reads\footnote{We adopt matrix notation as in Ref.~\cite[p.~206]{Vogel2006} to have our result independent of a particular choice of the unitary matrix.}
\begin{equation}
	\begin{split}
		\hat{U}
		\hat{D}\left[\vb{\alpha}(t)\right]
		\hat{U}^\dagger
		&=
		\hat{U}
		\exp\left\{
			\int\frac{\dd{\omega}}{2\pi}
			\left\{
				\vb{\alpha}(\omega)^\trans
				e^{-i\omega t}
				\begin{pmatrix}
					\hat{a}_1^\dagger(\omega) \\
					\hat{a}_2^\dagger(\omega)
				\end{pmatrix}
				-
				\vb{\alpha}(\omega)^\dagger
				e^{+i\omega t}
				\begin{pmatrix}
					\hat{a}_1(\omega) \\
					\hat{a}_2(\omega)
				\end{pmatrix}
			\right\}
		\right\}
		\hat{U}^\dagger
		\\
		&=
		\exp\left\{
			\int\frac{\dd{\omega}}{2\pi}
			\left\{
				\vb{\alpha}^\trans
				e^{-i\omega t}
				\hat{U}
				\begin{pmatrix}
					\hat{a}_1^\dagger(\omega) \\
					\hat{a}_2^\dagger(\omega)
				\end{pmatrix}
				\hat{U}^\dagger
				-
				\vb{\alpha}^\dagger
				e^{+i\omega t}
				\hat{U}
				\begin{pmatrix}
					\hat{a}_1(\omega) \\
					\hat{a}_2(\omega)
				\end{pmatrix}
				\hat{U}^\dagger
			\right\}
		\right\}
	\end{split}
	\label{eq:displacement_operator_transformed}
	,
\end{equation}
wherein we used the operator identity
\begin{equation}
	\hat{U}
	e^{\hat{A}}
	\hat{U}^\dagger
	=
	\sum_{n=0}^\infty
	\frac{1}{n!}
	\hat{U}
	\hat{A}^n
	\hat{U}^\dagger
	=
	\sum_{n=0}^\infty
	\frac{1}{n!}
	\hat{U}
	\hat{A}
	\hat{U}^\dagger
	\cdots
	\hat{U}
	\hat{A}
	\hat{U}^\dagger
	=
	\sum_{n=0}^\infty
	\frac{1}{n!}
	\left(
		\hat{U}
		\hat{A}
		\hat{U}^\dagger
	\right)^n
	=
	e^{\hat{U}\hat{A}\hat{U}^\dagger}
\end{equation}
in the second step to move the unitary operators into the argument of the exponential.
We already expressed the transformed annihilation operators in the second term of the exponential using the unitary matrix in \cref{eq:unitary_matrix_operator_reverse}.
The transformed creation operators in the first term can be brought into a similar form, i.e.,
\begin{equation}
	\begin{split}
		\hat{U}
		\begin{pmatrix}
			\hat{a}_1^\dagger(\omega) \\
			\hat{a}_2^\dagger(\omega)
		\end{pmatrix}
		\hat{U}^\dagger
		&=
		\begin{pmatrix}
			\left[
				\hat{U}
				\hat{a}_1(\omega)
				\hat{U}^\dagger
			\right]^\dagger \\
			\left[
				\hat{U}
				\hat{a}_2(\omega)
				\hat{U}^\dagger
			\right]^\dagger
		\end{pmatrix}
		=
		\left[
			\begin{pmatrix}
				\hat{U}
				\hat{a}_1(\omega)
				\hat{U}^\dagger
				\\
				\hat{U}
				\hat{a}_2(\omega)
				\hat{U}^\dagger
			\end{pmatrix}^\dagger
		\right]^\trans
		=
		\left[
			\left(
				U(\omega)
				\begin{pmatrix}
					\hat{a}_1(\omega) \\
					\hat{a}_2(\omega)
				\end{pmatrix}
			\right)^\dagger
		\right]^\trans		
		\\
		&=
		\left[
			\begin{pmatrix}
				\hat{a}_1(\omega)
				\\
				\hat{a}_2(\omega)
			\end{pmatrix}^\dagger
			U(\omega)
		\right]^\trans
		=
		U(\omega)^\trans
		\begin{pmatrix}
			\hat{a}_1^\dagger(\omega) \\
			\hat{a}_2^\dagger(\omega)
		\end{pmatrix}
		.
	\end{split}
\end{equation}
Inserting the previous result back into the transformed displacement operator, \cref{eq:displacement_operator_transformed}, we factor the unitary matrix to the Fourier amplitudes
\begin{equation}
	\begin{split}
		\hat{D}^\prime\left[\vb{\alpha}(t)\right]
		&=
		\exp\left\{
			\int\frac{\dd{\omega}}{2\pi}
			\left\{
				\vb{\alpha}(\omega)^\trans
				e^{-i\omega t}
				U(\omega)^\trans
				\begin{pmatrix}
					\hat{a}_1^\dagger(\omega) \\
					\hat{a}_2^\dagger(\omega)
				\end{pmatrix}
				-
				\vb{\alpha}(\omega)^\dagger
				e^{+i\omega t}
				U(\omega)^\dagger
				\begin{pmatrix}
					\hat{a}_1(\omega) \\
					\hat{a}_2(\omega)
				\end{pmatrix}
			\right\}
		\right\}
		\\
		&=
		\exp\left\{
			\int\frac{\dd{\omega}}{2\pi}
			\left\{
				\left(
					U(\omega)
					\vb{\alpha}(\omega)
				\right)^\trans
				e^{-i\omega t}
				\begin{pmatrix}
					\hat{a}_1^\dagger(\omega) \\
					\hat{a}_2^\dagger(\omega)
				\end{pmatrix}
				-
				\left(
					U(\omega)
					\vb{\alpha}(\omega)
				\right)^\dagger
				e^{+i\omega t}
				\begin{pmatrix}
					\hat{a}_1(\omega) \\
					\hat{a}_2(\omega)
				\end{pmatrix}
			\right\}
		\right\}
	\end{split}
\end{equation}
in agreement with Ref.~\cite[p.~210]{Vogel2006}.
The transformed Fourier amplitudes are given by the matrix product
\begin{equation}
	\vb{\alpha}^\prime(\omega)
	=
	U(\omega)
	\vb{\alpha}(\omega)
	\label{eq:coupler_coherent_amplitudes_frequency}
	.
\end{equation}
The product in frequency space implies a convolution in the time domain, i.e.,
\begin{equation}
	\vb{\alpha}^\prime(t)
	=
	\left(U\conv\vb{\alpha}\right)(t)
	=
	\int\frac{\dd{\omega}}{2\pi}
	U(\omega)
	\vb{\alpha}(\omega)
	e^{+i\omega t}
	\label{eq:coupler_coherent_amplitudes_time}
	,
\end{equation}
and we conclude that a tensor product of coherent states transforms under an ideal optical coupler according to
\begin{align}
	\hat{U}
	\ket*{\alpha(t)}
	&=
	\ket*{\left(U\conv\vb{\alpha}\right)(t)}	
	&
	U(t)
	&=
	\int\frac{\dd{\omega}}{2\pi}
	U(\omega)
	e^{+i\omega t}
	\label{eq:coupler_coherent_state}
\end{align}
wherein $U(\omega)$ is a two-dimensional unitary matrix characterizing the coupler.

The fact that the ideal optical coupler only transforms the amplitudes of the coherent input states is specific to coherent states.
The coherent states owe this special property due to having a Poisson number distribution and the Poisson distribution being memoryless.
As a consequence, the coherent output states are independent and consider a subsystem by performing a partial trace, e.g.,
\begin{equation}
	\trace_2\left\{
		\ketbra{\alpha,\beta}
	\right\}
	=
	\trace_2\left\{
		\ketbra{\alpha}
		\otimes
		\ketbra{\beta}
	\right\}
	=
	\ketbra{\alpha}
	\otimes
	\trace_2\left\{
		\ketbra{\beta}
	\right\}
	=
	\ketbra{\alpha}
	,
\end{equation}
where we used
\begin{equation}
	\trace_2\left\{
		\ketbra{\beta}
	\right\}
	=
	\sum_{n=0}^\infty
	\braket{n}{\beta}
	\braket{\beta}{n}
	=
	\sum_{n=0}^\infty
	\abs{\braket{n}{\beta}}^2
	=
	1
	,
\end{equation}
is equivalent to the projection of the subsystem
\begin{equation}
	\trace_2\left\{
		\ketbra{\alpha,\beta}
	\right\}
	=
	\ketbra{\alpha}
	=
	\hat{P}_1
	\ketbra{\alpha,\beta}
	\hat{P}_1
	.
\end{equation}
For non-coherent quantum states, it is not correct to project out a subsystem as the partial trace does not generally yield a mixed but a pure state.

\subsection{Splitter and spectral filter}

Our considerations have so far been quite general except for restricting ourselves to coherent input states.
We will now discuss two applications of our results:
First, we consider the special case of a coupler being used as a splitter. 
Second, we consider a coupler as an optical filter relevant to signal processing and quantum-information theory.

An ideal optical splitter redistributes the power of one input among two outputs and is a special case of the optical coupler with one input state being the vacuum state.
Using \cref{eq:coupler_coherent_amplitudes_frequency}, we find the transformed Fourier amplitudes to be
\begin{equation}
	\begin{split}
		\begin{pmatrix}
			\alpha_1^\prime(\omega) \\
			\alpha_2^\prime(\omega)
		\end{pmatrix}
		&=
		e^{i\Lambda/2}
		\begin{pmatrix}
			\cos(\Theta/2)
			e^{i\left(+\Phi+\Psi\right)/2}
			&
			\sin(\Theta/2)
			e^{i\left(+\Phi-\Psi\right)/2}
			\\
			-
			\sin(\Theta/2)
			e^{i\left(-\Phi+\Psi\right)/2}
			&
			\cos(\Theta/2)
			e^{i\left(-\Phi-\Psi\right)/2}
		\end{pmatrix}
		\begin{pmatrix}
			\alpha(\omega) \\
			0
		\end{pmatrix}
		\\
		&=
		\alpha(\omega)
		\begin{pmatrix}
			+
			\cos(\Theta/2)
			e^{+i\Phi/2}
			\\
			-
			\sin(\Theta/2)
			e^{-i\Phi/2}
		\end{pmatrix}
		e^{i(\Lambda+\Psi)/2}
	\end{split}
\end{equation}
wherein we again suppressed the frequency dependency of the splitting parameters.
Instead of choosing a parametrization for the splitting coefficients, which directly ensures energy conservation, we can more generally write
\begin{align}
	\begin{pmatrix}
		\alpha_1^\prime(\omega) \\
		\alpha_2^\prime(\omega)
	\end{pmatrix}
	&=
	\alpha(\omega)
	\begin{pmatrix}
		c_1(\omega) \\
		c_2(\omega)
	\end{pmatrix}
	&
	\abs{c_1(\omega)}^2
	+
	\abs{c_2(\omega)}^2
	&=
	1
	.
\end{align}
Assuming the Fourier transform of $c_1(\omega),c_2(\omega)$ to be well-defined, we find the coherent output states to be
\begin{equation}
	\hat{U}
	\ket*{\alpha(t),0}
	=
	\ket*{\left(c_1\conv\alpha\right)(t),\left(c_2\conv\alpha\right)(t)}
	\label{eq:splitter_state_convolution}
\end{equation}
according to \cref{eq:coupler_coherent_state}.
If we further assume the signal $\alpha(t)$ to be bandwidth-limited to $B$ and the splitting coefficients to be approximately constant over the bandwidth, i.e.,
\begin{align}
	c_1(\omega)
	&\approx
	c_1(\omega_0)
	&
	c_2(\omega)
	&\approx
	c_2(\omega_0)
	&
	\forall
	\omega
	&\in
	B
	,
\end{align}
the output state takes the simple form
\begin{equation}
	\hat{U}
	\ket*{\alpha(t),0}
	=
	\ket*{c_1\alpha(t),c_2\alpha(t)}
\end{equation}
and the splitter only redistributes the signal power among the outputs while leaving the signal itself unaltered.

\Cref{eq:splitter_state_convolution} already suggests the similarity of the ideal optical splitter with an optical filter, the difference being that only one output matters for the optical filter.
To remove the second output, we perform a partial trace over the second subsystem, equivalent to applying the projection operator to \cref{eq:splitter_state_convolution}, i.e.,
\begin{equation}
	\hat{P}_1
	\hat{U}
	\ket*{\alpha(t),0}
	=
	\ket*{\left(h\conv\alpha\right)(t)}
	\label{eq:filter_state}
\end{equation}
where we introduced the optical filter function $h=c_1$.
Ref.~\cite[p.~199]{Vogel2006} discusses a spectral filter made of a dielectric slab of thickness $l$ and refractive index $n$, see \Cref{fig:dielectric_filter}, with incoming and outgoing quantum modes to each side.
\begin{figure}[htb]
    \centering
    \includegraphics{figures/tikz/dielectric-filter}
    \caption{Dielectric slab of thickness $l$ and refractive index $n$ used as a spectral filter with incident quantum modes, denoted by the annihilation operators, $\hat{a}_1(\omega)$ from the left, and $\hat{a}_2(\omega)$ from the right, and outgoing quantum modes, $\hat{a}_1^\prime(\omega)$ to the left, and $\hat{a}_2(\omega)$ to the right.}\label{fig:dielectric_filter}
\end{figure}
Let $\hat{a}_1(\omega)$ be the signal mode approaching the dielectric slab from the left.
Let us assume that the mode $\hat{a}_2(\omega)$ is in vacuum and that we are only interested in the mode $\hat{a}_2^\prime(\omega)$, outgoing to the right.
Then the optical filter function in \cref{eq:filter_state} is equal to the transmission coefficient of the dielectric slab which is equal to~\cite[p.~199]{Vogel2006}
\begin{align}
	h(\omega)
	&=
	\frac{1-r^2}{1-r^2\exp(2i\omega nl)}
	\exp\left[-i(n-1)l\omega\right]
	&
	r^2
	&=
	\left(\frac{n-1}{n+1}\right)^2
	.
\end{align}
By carefully selecting the geometry and dielectric (layers), it should be possible to tailor the transmission coefficient in a specific bandwidth to implement a custom optical filter function $h$.